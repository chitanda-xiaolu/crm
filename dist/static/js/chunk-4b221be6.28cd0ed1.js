(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b221be6"],{"026d":function(e,t,r){"use strict";var a=r("defb"),o=r.n(a);o.a},"05b4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-box dis-flex-row"},[r("vue-scroll",{attrs:{ops:e.scrollops}},[r("div",{ref:"wrapper",staticClass:"wrapper"},[r("div",{staticClass:"wrapper-content"},[r("div",{staticClass:"order-detail-top"},[r("p",{staticClass:"order_code_position"},[e._v("\n                        "+e._s(e.orderDetailData.customerName)+"："+e._s(e.orderDetailData.orderCode)+"\n                        "),e.orderIconCategory?r("img",{staticClass:"order-icon",attrs:{src:e.orderIconCategory,width:"22",height:"22"}}):e._e(),e.orderIconType?r("img",{staticClass:"order-icon",attrs:{src:e.orderIconType,width:"22",height:"22"}}):e._e(),e.orderIconUrgent?r("img",{staticClass:"order-icon",attrs:{src:e.orderIconUrgent,width:"22",height:"22"}}):e._e(),e.orderIconStandard?r("img",{staticClass:"order-icon",attrs:{src:e.orderIconStandard,width:"22",height:"22"}}):e._e()]),r("p",{staticClass:"order_code_position"},[e._v("计划交付(发货)日期： "+e._s(e.orderDetailData.estimatedDeliveryTime?e.DWY_UTILS.getTimeYMD(e.orderDetailData.estimatedDeliveryTime):"暂无日期"))])]),r("div",{attrs:{id:"part1"}},[r("detail-steps")],1),e.orderDetailData&&e.orderDetailData.status>1e3?r("div",{attrs:{id:"part2"}},[r("order-info")],1):e._e(),e.orderDetailData&&20===e.orderDetailData.orderWay?r("div",[r("cad-detail-list")],1):e._e(),e.orderDetailData&&e.orderDetailData.status>2e3?r("div",{attrs:{id:"part3"}},[r("program-info")],1):e._e(),r("div",{attrs:{id:"part4"}},[r("deliver-info")],1),e.orderDetailData&&e.orderDetailData.status>2e3?r("div",{attrs:{id:"part5"}},[r("quotation")],1):e._e(),r("div",{attrs:{id:"part6"}},[r("cost",{ref:"cost"})],1),9998!==e.orderDetailData.status?r("div",{staticClass:"order-opt-btns"},[e.hasPermission(e.Permission.order.order_close.code)?r("el-button",{attrs:{type:"info",icon:"el-icon-circle-close"},on:{click:e.handleOrderClose}},[e._v("订单关闭")]):e._e(),e.orderDetailData&&e.orderDetailData.status>=2999&&e.orderDetailData.status<4998&&e.hasPermission(e.Permission.price.order_price_invalid.code)?r("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-money"},on:{click:e.handleChangePrice}},[e._v("调整报价")]):e._e(),e.orderDetailData&&!e.orderDetailData.urgent&&e.hasPermission(e.Permission.order.urgent_apply.code)?r("el-button",{attrs:{type:"danger",icon:"el-icon-discount"},on:{click:e.handleDeliverUrgent}},[e._v("加急申请")]):e._e(),e.orderDetailData&&e.orderDetailData.urgent&&!e.orderDetailData.urgentConfirm&&e.hasPermission(e.Permission.order.urgent_cancel.code)?r("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:e.handleUrgentBack}},[e._v("加急驳回")]):e._e(),e.orderDetailData&&e.orderDetailData.urgent&&!e.orderDetailData.urgentConfirm&&e.hasPermission(e.Permission.order.urgent_confirm.code)?r("el-button",{attrs:{type:"success",icon:"el-icon-circle-check"},on:{click:e.handleUrgentPass}},[e._v("加急通过")]):e._e(),e.orderDetailData&&5201===e.orderDetailData.status?r("el-button",{attrs:{type:"warning",icon:"el-icon-edit-outline"},on:{click:e.handleUpdateDelivery}},[e._v("更新计划交期")]):e._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.orderDetailData&&!e.orderDetailData.deliveryPlan&&(e.orderDetailData&&e.orderDetailData.status)>=5201,expression:"(orderDetailData && !orderDetailData.deliveryPlan) && (orderDetailData && orderDetailData.status) >= 5201"}],attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleDeliverGoods}},[e._v("填写发货计划")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleLookLogs}},[e._v("查看日志")])],1):e._e()])])]),r("deliver-goods",{ref:"goodsDom",attrs:{sh_name:e.orderDetailData.consignee,sh_mobile:e.orderDetailData.consigneeMobile,sh_address:e.orderDetailData.consigneeAddress}}),r("urgent-apply",{ref:"urgentApply"}),r("urgent-confirm",{ref:"urgentConfirm",attrs:{handleAddFee:e.handleAddFee}}),r("update-delivery",{ref:"updateDelivery",attrs:{extimatedTime:e.orderDetailData.estimatedDeliveryTime}}),r("order-logs",{ref:"orderLogsDom"})],1)},o=[],s=(r("8e6e"),r("ac6a"),r("cadf"),r("456d"),r("bd86")),i=r("47fd"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"timeline-wrapper clearfix"},[e.steps.length?r("div",{staticClass:"timeline-content-day"},[r("div",{staticClass:"timeline-line"}),e._l(e.defaultSteps,(function(t,a){return r("div",{key:a,ref:"timeItem",refInFor:!0,staticClass:"timeline-content-item",class:{active:a===e.steps.length-1},on:{mouseenter:function(t){return e.mouseEnter(a)},mouseleave:function(t){return e.mouseLeave(a)}}},[r("span",{class:{"o-span":a<e.steps.length-1}},[e._v(e._s(t.stageName))]),r("p",{class:{"o-span":a<e.steps.length-1}},[e._v(e._s(t.startTime))]),r("div",{staticClass:"timeline-content-item-reveal"},[r("a",{attrs:{href:"#"}},[r("img",{attrs:{src:e.stepImgs[a]}}),e.orderDetailData.stage===t.stage?r("span",[e._v(e._s(e.steps[e.steps.length-1]["statusData"][e.steps[e.steps.length-1]["statusData"].length-1]["statusName"])+"("+e._s(t.startTime.slice(-5).replace(/-/g,"/"))+")")]):a<e.steps.length-1?r("span",[e._v("已"+e._s(t.stageName))]):r("span",[e._v("待"+e._s(t.stageName))])])])])}))],2):e._e()])},c=[],l=r("5276"),d=r.n(l),u=r("404f"),p=r.n(u),f=r("caea"),m=r.n(f),b=r("2591"),h=r.n(b),g=r("9eac"),v=r.n(g),O=r("5361"),D=r.n(O),y=r("62a3"),j=r.n(y),w=r("eaa8"),_=r.n(w),P=r("193a"),I=r.n(P),k=r("2f62");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F={name:"orderProductionProcess",data:function(){return{defaultSteps:[{stage:1100,stageName:"设计",stageState:"",startTime:"",statusData:[]},{stage:1300,stageName:"初审",stageState:"",startTime:"",statusData:[]},{stage:1500,stageName:"终审",stageState:"",startTime:"",statusData:[]},{stage:1700,stageName:"核价",stageState:"",startTime:"",statusData:[]},{stage:1900,stageName:"扣款",stageState:"",startTime:"",statusData:[]},{stage:2100,stageName:"生产",stageState:"",startTime:"",statusData:[]},{stage:2500,stageName:"计划发货",stageState:"",startTime:"",statusData:[]},{stage:2900,stageName:"签收",stageState:"",startTime:"",statusData:[]}],steps:[],stepImgs:[d.a,p.a,m.a,h.a,v.a,D.a,j.a,I.a,_.a]}},computed:x({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}})),watch:{"orderDetailData.stage":{handler:function(e,t){this.sliceSteps(this.orderDetailData.steps,e)}}},mounted:function(){this.orderDetailData.status&&this.sliceSteps(this.orderDetailData.steps,this.orderDetailData.stage)},methods:{sliceSteps:function(e,t){if(this.steps.length=0,e instanceof Array)for(var r,a=0,o=e.length;a<o;a++)r||(this.defaultSteps[a]=x({},e[a]),this.$set(this.steps,a,this.defaultSteps[a])),e[a].stage===t&&(r=!0)},mouseEnter:function(e){e!==this.steps.length-1&&this.$refs.timeItem[e].classList.add("active")},mouseLeave:function(e){e!==this.steps.length-1&&this.$refs.timeItem[e].classList.remove("active")}}},$=F,S=(r("9b2b"),r("2877")),T=Object(S["a"])($,n,c,!1,null,"1bd0a406",null),L=T.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-info-container"},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("订单信息"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("订单分类：")]),r("span",[e._v(e._s(e.orderDetailData.orderCategoryName))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("订单类型：")]),r("span",[e._v(e._s(e.orderDetailData.orderTypeName))])])]),20===e.orderDetailData.orderType?r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("原订单号：")]),r("span",{staticClass:"orgin-oeder-code-link",on:{click:e.goOrginOrderDetail}},[e._v(e._s(e.orderDetailData.originalOrderCode))])])]):e._e(),20===e.orderDetailData.orderType?r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("补单原因：")]),r("span",[e._v(e._s(e.resupplyOrderReasons))])])]):e._e(),20!==e.orderDetailData.orderType?r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[e.orderDetailData.standard?e._e():r("el-button",{attrs:{size:"mini",type:"primary",plain:"",icon:"el-icon-s-tools"},on:{click:e.handleMakeStandard}},[e._v("设为非标")]),e.orderDetailData.standard?r("el-button",{attrs:{size:"mini",type:"warning",plain:"",icon:"el-icon-s-tools"},on:{click:e.handleMakeStandard}},[e._v("取消非标")]):e._e()],1)]):e._e()],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("客户信息"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("客户姓名：")]),r("span",[e._v(e._s(e.orderDetailData.customerName))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("客户手机：")]),r("span",[e._v(e._s(e.orderDetailData.customerMobile))])])]),r("el-col",{directives:[{name:"show",rawName:"v-show",value:10===e.orderDetailData.orderCategory,expression:"orderDetailData.orderCategory === 10"}],attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("所在小区：")]),r("span",[e._v(e._s(e.orderDetailData.housingEstateName))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v(e._s(20===e.orderDetailData.orderCategory?"收货地址：":"房屋地址："))]),r("span",[e._v(e._s(e.orderDetailData.consigneeAddress))])])])],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("设计师"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("设计师：")]),r("span",[e._v(e._s(e.orderDetailData.designerName))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("联系电话：")]),r("span",[e._v(e._s(e.orderDetailData.designerMobile))])])])],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("下单方式"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-row",[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("下单方式：")]),r("span",[e._v(e._s(e.orderDetailData.orderWayName))])])])],1)],1)},E=[],N=r("f8b7");function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={data:function(){return{orderInfos:{}}},computed:V({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}}),{resupplyOrderReasons:function(){if(this.orderDetailData.resupplyOrderReasons)return this.orderDetailData.resupplyOrderReasons.substring(0,this.orderDetailData.resupplyOrderReasons.length-1)}}),methods:V({},Object(k["b"])({getOrderDetailData:"getOrderDetailData"}),{goOrginOrderDetail:function(){this.$router.push({path:"/order/detail/".concat(this.orderDetailData.originalOrderId)})},handleMakeStandard:function(){var e=this,t={orderId:this.$route.params.orderId,flag:!this.orderDetailData.standard};Object(N["H"])(t).then((function(t){e.$message.success("操作成功"),e.getOrderDetailData({orderId:e.$route.params.orderId})}))}})},M=U,B=(r("68cc"),Object(S["a"])(M,R,E,!1,null,"1446bcfc",null)),z=B.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-info-container"},[r("program-detail"),r("program-list"),r("finish-pro"),r("cause-explanation",{ref:"causeDom"})],1)},q=[],Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.finishList.length?r("div",{staticClass:"finish-container"},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("成品生产单"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-table",{attrs:{data:e.finishList,border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),r("el-table-column",{attrs:{prop:"kjlAuditName",label:"审核名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.kjlAuditName?t.row.kjlAuditName:"未命名"))])]}}],null,!1,3257067513)}),r("el-table-column",{attrs:{prop:"productionOrderCode",label:"生产单编号",width:"100"}}),r("el-table-column",{attrs:{prop:"kjlStatusName",label:"审核进度",width:"100"}}),r("el-table-column",{attrs:{prop:"statusName",label:"状态",width:"100"}}),r("el-table-column",{attrs:{prop:"operateComment",label:"记录信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"top-start",title:t.row.operateComment,width:"150",trigger:"hover"}},[r("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.operateComment))])])]}}],null,!1,3310594755)}),r("el-table-column",{attrs:{prop:"x",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1004===t.row.kjlStatus&&3021==t.row.status&&e.hasPermission(e.Permission.order.final_audit_reject.code)?r("el-button",{staticClass:"reject_btn",attrs:{type:"text",size:"small",icon:"el-icon-error"},on:{click:function(r){return e.productionRowOpt(t.row,"reject")}}},[e._v("终审驳回")]):e._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:1004===t.row.kjlStatus&&3021==t.row.status&&e.hasPermission(e.Permission.order.final_audit_pass.code),expression:"scope.row.kjlStatus === 1004 && (scope.row.status == 3021) && hasPermission(Permission.order.final_audit_pass.code)"}],staticClass:"pass_btn",attrs:{type:"text",size:"small",icon:"el-icon-success"},on:{click:function(r){return e.productionRowOpt(t.row,"pass")}}},[e._v("终审通过")]),20===e.orderDetailData.orderType?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-finished"},on:{click:function(r){return e.showResupplyDialog(t.row)}}},[e._v("补单判责")]):e._e(),2021===t.row.status&&e.hasPermission(e.Permission.order.finished_audit.code)?r("el-button",{staticClass:"pass_btn",attrs:{type:"text",size:"small",icon:"el-icon-s-check"},on:{click:function(r){return e.productionRowOpt(t.row,"claimpass")}}},[e._v("初审通过")]):e._e(),2021===t.row.status&&e.hasPermission(e.Permission.order.finished_audit.code)?r("el-button",{staticClass:"reject_btn",attrs:{type:"text",size:"small",icon:"el-icon-refresh-left"},on:{click:function(r){return e.productionRowOpt(t.row,"claimreject")}}},[e._v("初审驳回")]):e._e(),1001!==e.orderDetailData.status&&20===e.orderDetailData.orderType?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-c-scale-to-original"},on:{click:function(r){return e.handleCauseExplanation(t.row)}}},[e._v("原因说明")]):e._e()]}}],null,!1,236163393)})],1),r("el-dialog",{attrs:{title:"终审驳回",visible:e.rejectVisible,"close-on-click-modal":!1,"destroy-on-close":!0,"append-to-body":!0,"modal-append-to-body":!1,width:"30%"},on:{"update:visible":function(t){e.rejectVisible=t}}},[e._l(e.rejectReasonList,(function(t){return r("el-checkbox-group",{key:t.id,on:{change:e.selectReason},model:{value:e.rejectList,callback:function(t){e.rejectList=t},expression:"rejectList"}},[r("el-checkbox",{attrs:{label:t.id,value:t.id}},[e._v(e._s(t.dictName))])],1)})),r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"原因说明"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.rejectVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFinishReject()}}},[e._v("确定")])],1)],2),r("sup-resp-dialog",{ref:"supDialog"}),r("cause-explanation",{ref:"causeDom"})],1):e._e()},J=[],W=r("b562"),G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"补单判责",visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":!0,"modal-append-to-body":!1,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"责任部门：",prop:"deptId"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择部门",debounce:1e3,options:e.deptTree,filterable:""},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1),r("el-form-item",{attrs:{label:"错误类型：",prop:"blameId"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择补单原因",debounce:1e3,options:e.reasonList,filterable:""},model:{value:e.form.blameId,callback:function(t){e.$set(e.form,"blameId",t)},expression:"form.blameId"}})],1),r("el-form-item",{attrs:{label:"补单说明：",prop:"remark"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancelDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确 定")])],1)],1)},K=[];r("6b54");function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={name:"supRespDialog",data:function(){return{type:"",form:{deptId:"",blameId:"",remark:"",productionOrderId:""},rules:{deptId:[{required:!0,message:"请选择责任部门",trigger:"change"}],blameId:[{required:!0,message:"请选择补单原因",trigger:"change"}],remark:[{required:!0,message:"请输入补单说明",trigger:"change"}]},addResponseStatus:!0,dialogVisible:!1}},computed:H({},Object(k["d"])({deptTree:function(e){return e.supplyOrder.supplyDeptTree},reasonList:function(e){return e.supplyOrder.supplyReasonList}})),mounted:function(){!this.deptTree.length&&this.getSupplyDeptTree(),!this.reasonList.length&&this.getSupplyReasonList()},methods:H({},Object(k["b"])({getSupplyDeptTree:"getSupplyDeptTree",getSupplyReasonList:"getSupplyReasonList",getFinishKjlList:"getFinishKjlList",getProgramList:"getProgramList"}),{showResupplyDialog:function(e,t){var r=this;this.type=t,this.dialogVisible=!0,this.form.productionOrderId=e.productionOrderId,e.orderBlameId?(this.addResponseStatus=!1,Object(N["I"])({id:e.orderBlameId}).then((function(e){r.form.deptId=e.data.deptId.toString(),r.form.blameId=e.data.blameId.toString(),r.form.remark=e.data.remark}))):(this.addResponseStatus=!0,this.$nextTick((function(){r.$refs["form"].resetFields()})))},submitForm:function(e){var t=this;t.$refs[e].validate((function(r){if(r){var a={deptId:Array.isArray(t.form.deptId)?t.form.deptId[t.form.deptId.length-1]:t.form.deptId,blameId:Array.isArray(t.form.blameId)?t.form.blameId[t.form.blameId.length-1]:t.form.blameId,remark:t.form.remark,productionOrderId:t.form.productionOrderId};t.addResponseStatus?Object(N["fb"])(a).then((function(r){t.$message.success("判责提交成功"),t.$refs[e].resetFields(),t.dialogVisible=!1,"program"===t.type?t.getProgramList():t.getFinishKjlList()})):Object(N["gb"])(a).then((function(r){t.$message.success("判责修改成功"),t.$refs[e].resetFields(),t.dialogVisible=!1}))}}))},cancelDialog:function(){this.dialogVisible=!1}})},ee=Z,te=Object(S["a"])(ee,G,K,!1,null,null,null),re=te.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"原因说明",visible:e.causeVisible,"append-to-body":!0,"modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.causeVisible=t},open:e.openDialog}},[r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"总部",name:"first"}},[r("mavon-editor",{ref:"md",on:{imgAdd:e.addImages,change:e.changeContent},model:{value:e.readcontent,callback:function(t){e.readcontent=t},expression:"readcontent"}})],1),r("el-tab-pane",{attrs:{label:"经销商",name:"second"}},[r("mavon-editor",{ref:"md",attrs:{toolbarsFlag:!1,subfield:!1,defaultOpen:"preview"},on:{imgAdd:e.addImages,change:e.changeContent},model:{value:e.readonlycontent,callback:function(t){e.readonlycontent=t},expression:"readonlycontent"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmitProducts}},[e._v("确定")])],1)],1)},oe=[],se=(r("a481"),r("b2d8")),ie=(r("64e1"),r("61f7")),ne=r("fa7d");function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de={name:"lAddFinishProductDialog",components:{mavonEditor:se["mavonEditor"]},data:function(){return{causeVisible:!1,readcontent:"",readonlycontent:"",activeName:"first",productionOrderId:"",editObj:{},addOrEdit:"add",id:"",description:""}},methods:{openDialog:function(){this.readcontent="",this.readonlycontent="",this.activeName="first",this.getsuppleReason()},getsuppleReason:function(){var e=this,t=this.productionOrderId;Object(N["hb"])({productionOrderId:t}).then((function(t){if(200===t.code&&t.success)if(t.data.length){var r=t.data;r.map((function(t){1===t.platform?(e.addOrEdit="edit",e.readcontent=Object(ie["a"])(t.description.replace(/& /gi,"&")),e.id=t.id,e.productionOrderId=t.productionOrderId,e.description=t.description):2===t.platform&&(e.readonlycontent=Object(ie["a"])(t.description.replace(/& /gi,"&")))}))}else e.addOrEdit="add",e.readcontent="",e.readonlycontent=""}))},geteditReasonDescribe:function(){var e=this;Object(N["t"])(le({},this.editObj)).then((function(t){200===t.code&&t.success&&(e.readcontent=Object(ie["a"])(t.data.description))}))},handleSubmitProducts:function(){var e=this,t=this.productionOrderId,r=this.readcontent&&this.readcontent.replace(/& /gi,"&"),a=Object(ie["a"])(r),o={};o.productionOrderId=t,o.description=a,o.id=this.id,"add"===this.addOrEdit?(o.id="",Object(N["c"])(Object(ne["e"])(o)).then((function(t){200===t.code&&t.success&&(e.$message.success("操作成功"),e.causeVisible=!1)}))):Object(N["t"])(Object(ne["e"])(o)).then((function(t){200===t.code&&t.success&&(e.$message.success("操作成功"),e.causeVisible=!1)}))},addImages:function(e,t){var r=this,a=new FormData;a.append("file",t),Object(W["d"])(a).then((function(t){if(200===t.code&&t.success){var a=t.data;r.$refs.md.$img2Url(e,a)}}))},changeContent:function(e,t){this.html=e}}},ue=de,pe=(r("f548"),Object(S["a"])(ue,ae,oe,!1,null,"6e360130",null)),fe=pe.exports;function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he={components:{causeExplanation:fe,supRespDialog:re},data:function(){return{rejectList:[],rejectReasonList:[],programObj:{name:"",coverPic:"",realArea:"",specName:""},rejectVisible:!1,reason:"",rejectorpassQuery:{productionOrderId:"",orderId:""}}},mounted:function(){this.getFinishList()},watch:{"orderDetailData.stage":{handler:function(e,t){this.getFinishList()}},"orderDetailData.orderId":{handler:function(e,t){this.getFinishList()}}},computed:be({},Object(k["d"])({finishList:function(e){return e.order.finishList},orderDetailData:function(e){return e.order.orderDetailData}})),methods:be({},Object(k["b"])({getOrderDetailData:"getOrderDetailData",getFinishList:"getFinishList"}),{handleClaimPassOrReject:function(e,t){var r=this,a=this;this.$confirm(0===t?"此订单将被驳回, 是否继续?":"此操作将通过该订单审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["A"])({productionOrderId:e,flag:t}).then((function(e){200===e.code&&e.success?(a.$message.success("操作成功"),a.getOrderDetailData({orderId:a.orderDetailData.orderId}),r.getFinishList()):a.$message.success("操作失败")}))}))},getProgramInfo:function(){var e=this;this.$route.params.designId&&"NODID"!==this.$route.params.designId&&Object(N["X"])({designId:this.$route.params.designId}).then((function(t){200===t.code&&t.success&&(e.designId=t.data.designId,e.programObj=be({},t.data))}))},opendialog:function(){this.checkedAllProgramList()},checkedAllProgramList:function(){var e=this;this.finishList.map((function(t){e.$nextTick((function(){this.$refs&&this.$refs.table.toggleRowSelection(t,!0)}))}))},productionRowOpt:function(e,t,r){switch(t){case"reject":this.handleFinishReject(e);break;case"pass":this.hangdleFinalPass(e);break;case"claimpass":this.claimPass(e);break;case"claimreject":this.claimReject(e);break;default:}},selectReason:function(e){this.rejectList=e},claimReject:function(e){var t=e.productionOrderId;this.handleClaimPassOrReject(t,0),this.getOrderDetailData({orderId:this.orderDetailData.orderId})},claimPass:function(e){var t=e.productionOrderId;this.handleClaimPassOrReject(t,1),this.getOrderDetailData({orderId:this.orderDetailData.orderId})},submitFinishReject:function(){var e=this;this.rejectList.length?(this.rejectorpassQuery.operateReasonId=this.rejectList.join(),this.rejectorpassQuery.remark=this.reason,this.$confirm("此订单将被驳回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["y"])(be({},e.rejectorpassQuery)).then((function(t){200===t.code&&t.success&&(e.$message.success("操作成功"),e.rejectVisible=!1,e.rejectList.length=0,e.reason="",e.getOrderDetailData({orderId:e.orderDetailData.orderId}))}))}))):this.$message.warning("请勾选驳回原因")},handleFinishReject:function(e){var t=this;this.rejectorpassQuery.productionOrderId=e.productionOrderId,this.rejectorpassQuery.orderId=this.$route.params.orderId,this.rejectVisible=!0,Object(W["c"])({dictTypeCode:"final_audit_reject_reason"}).then((function(e){200===e.code&&e.success&&(t.rejectReasonList=e.data)}))},hangdleFinalPass:function(e){var t=this;this.rejectorpassQuery.productionOrderId=e.productionOrderId,this.rejectorpassQuery.orderId=this.$route.params.orderId,this.$confirm("此订单将通过终审审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["x"])(be({},t.rejectorpassQuery)).then((function(e){200===e.code&&e.success&&(t.$message.success("操作成功"),t.getOrderDetailData({orderId:t.orderDetailData.orderId}),t.getFinishList())}))}))},handleCauseExplanation:function(e){this.$refs.causeDom.productionOrderId=e.productionOrderId,this.$refs.causeDom.causeVisible=!0},showResupplyDialog:function(e){this.$refs.supDialog.showResupplyDialog(e,"finish")}})},ge=he,ve=(r("14c8"),Object(S["a"])(ge,Y,J,!1,null,"1e6de117",null)),Oe=ve.exports,De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",[r("el-divider",{attrs:{"content-position":"left"}},[e._v("关联方案"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("div",{staticClass:"program-content"},[r("div",{staticClass:"left"},[r("el-row",[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("方案名称：")]),r("span",[e._v(e._s(e.programObj.name))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("户型：")]),r("span",[e._v(e._s(e.programObj.specName))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("面积：")]),r("span",[e._v(e._s(e.programObj.realArea&&e.programObj.realArea.toFixed(2))),r("span",{directives:[{name:"show",rawName:"v-show",value:e.programObj.realArea,expression:"programObj.realArea"}]},[e._v("㎡")])])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("渲染图：")]),r("span",[r("viewer",{directives:[{name:"show",rawName:"v-show",value:e.programObj.coverPic,expression:"programObj.coverPic"}],staticClass:"image-preview-box"},[r("img",{staticClass:"image-preview",attrs:{title:"点击看大图",src:e.programObj.coverPic}})])],1)])])],1)],1)])],1)},ye=[];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={data:function(){return{programObj:{name:"",coverPic:"",realArea:"",specName:""}}},computed:we({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}})),watch:{"orderDetailData.orderId":{handler:function(e,t){this.getProgramInfo()}}},mounted:function(){this.getProgramInfo()},methods:{getProgramInfo:function(){var e=this,t=this.orderDetailData.designId;t?Object(N["X"])({designId:t}).then((function(t){200===t.code&&t.success&&(e.programObj=we({},t.data))})):Object.keys(this.programObj).forEach((function(t){return e.programObj[t]=""}))}}},Pe=_e,Ie=(r("0774"),Object(S["a"])(Pe,De,ye,!1,null,"1b0a12c8",null)),ke=Ie.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100%","padding-bottom":"10px"}},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("定制生产单"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-table",{staticClass:"table-box",attrs:{data:e.programList,border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),r("el-table-column",{attrs:{prop:"kjlAuditName",label:"审核名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.kjlAuditName?t.row.kjlAuditName:"未命名"))])]}}])}),r("el-table-column",{attrs:{prop:"productionOrderCode",label:"生产单编号",width:"90"}}),r("el-table-column",{attrs:{prop:"kjlAuditCode",label:"审核编号",width:"130"}}),r("el-table-column",{attrs:{prop:"kjlStatusName",label:"审核进度",width:"80"}}),r("el-table-column",{attrs:{prop:"statusName",label:"状态",width:"80"}}),r("el-table-column",{attrs:{prop:"firstAuditUserName",label:"初审人",width:"80"}}),r("el-table-column",{attrs:{prop:"finalAuditUserName",label:"终审人",width:"80"}}),r("el-table-column",{attrs:{prop:"claimUserName",label:"初审认领人",width:"100"}}),r("el-table-column",{attrs:{prop:"jsonFlag",label:"获取生产数据",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.jsonFlag?"是":"否"))])]}}])}),r("el-table-column",{attrs:{prop:"updateTime",label:"更新日期",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.DWY_UTILS.getTimeYMD(t.row.updateTime)))])]}}])}),r("el-table-column",{attrs:{prop:"retailPrice",label:"销售金额",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.renderMoney((t.row.retailPrice||0).toFixed(2))))])]}}])}),r("el-table-column",{attrs:{prop:"operateComment",width:"150",label:"记录信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"top-start",width:"150",title:t.row.operateComment,trigger:"hover"}},[r("span",{staticClass:"text-ellipsis-2",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.operateComment))])])]}}])}),20===e.orderDetailData.orderType?r("el-table-column",{attrs:{prop:"resupplyOrderReasons",label:"补单原因"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"top-start",title:t.row.resupplyOrderReasons,trigger:"hover",width:"150"}},[r("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.resupplyOrderReasons))])])]}}],null,!1,1079880855)}):e._e(),r("el-table-column",{attrs:{prop:"comment",label:"提审备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"top-start",title:t.row.comment,trigger:"hover",width:"150"}},[r("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.comment))])])]}}])}),r("el-table-column",{attrs:{prop:"x",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1004===t.row.kjlStatus&&3021===t.row.status&&e.hasPermission(e.Permission.order.final_audit_reject.code)?r("el-button",{staticClass:"reject_btn",attrs:{type:"text",size:"small",icon:"el-icon-error"},on:{click:function(r){return e.productionRowOpt(t.row,"reject")}}},[e._v("终审驳回")]):e._e(),1004===t.row.kjlStatus&&3021===t.row.status&&e.hasPermission(e.Permission.order.final_audit_pass.code)?r("el-button",{staticClass:"pass_btn",attrs:{type:"text",size:"small",icon:"el-icon-success"},on:{click:function(r){return e.productionRowOpt(t.row,"pass")}}},[e._v("终审通过")]):e._e(),1001!==t.row.kjlStatus&&1002!==t.row.kjlStatus||2021!=t.row.status&&2001!=t.row.status||!e.hasPermission(e.Permission.order.production_audit.code)?e._e():r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-s-check"},on:{click:function(r){return e.productionRowOpt(t.row,"claim")}}},[e._v("初审审核")]),1004===t.row.kjlStatus&&2021===t.row.status&&e.hasPermission(e.Permission.order.audit_back.code)?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-refresh-left"},on:{click:function(r){return e.productionRowOpt(t.row,"back")}}},[e._v("初审退回")]):e._e(),1004===t.row.kjlStatus&&!t.row.jsonFlag&&e.hasPermission(e.Permission.order.json_pull.code)?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-refresh-left",disabled:t.row.disabled},on:{click:function(r){return e.productionRowOpt(t.row,"json",t.row.productionOrderId)}}},[e._v("更新生产数据")]):e._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:1004===t.row.kjlStatus&&t.row.unpack,expression:"scope.row.kjlStatus === 1004 && scope.row.unpack"}],attrs:{type:"text",size:"small",icon:"el-icon-stopwatch",disabled:t.row.disabled},on:{click:function(r){return e.productionRowOpt(t.row,"bom",t.row.productionOrderId)}}},[e._v("bom数据")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:4001===e.orderDetailData.status&&t.row.jsonFlag,expression:"orderDetailData.status === 4001 && scope.row.jsonFlag"}],attrs:{type:"text",size:"small",icon:"el-icon-refresh-left"},on:{click:function(r){return e.productionRowOpt(t.row,"refreshweek",t.row.productionOrderId)}}},[e._v("更新交付周期")]),t.row.status>=2001&&t.row.status<=4001&&e.hasPermission(e.Permission.order.audit_kjlStatus_refresh.code)?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-refresh-left",disabled:t.row.disabled},on:{click:function(r){return e.productionRowOpt(t.row,"refreshprogress",t.row.productionOrderId)}}},[e._v("刷新审核进度")]):e._e(),1001!==e.orderDetailData.status&&20===e.orderDetailData.orderType?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-c-scale-to-original"},on:{click:function(r){return e.handleCauseExplanation(t.row)}}},[e._v("原因说明")]):e._e(),20===e.orderDetailData.orderType?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-finished"},on:{click:function(r){return e.showResupplyDialog(t.row)}}},[e._v("补单判责")]):e._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.kjlJsonPath&&t.row.jsonFlag,expression:"scope.row.kjlJsonPath && scope.row.jsonFlag"}],attrs:{type:"text",size:"small",icon:"el-icon-download"}},[r("a",{staticStyle:{color:"#3190e8"},attrs:{href:t.row.kjlJsonPath}},[e._v("下载json")])]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.orderDetailData.status>=2021,expression:"orderDetailData.status >= 2021"}],attrs:{type:"text",size:"small",icon:"el-icon-news"},on:{click:function(r){return e.handleCalaimDetail(t.row)}}},[e._v("初审详情")])]}}])})],1),r("bom",{ref:"bomDom"}),r("sup-resp-dialog",{ref:"supDialog"}),r("cause-explanation",{ref:"causeDom"}),r("finishDialog",{ref:"finishDialog",attrs:{rejectorpassQuery:e.rejectorpassQuery,rejectReasonList:e.rejectReasonList}}),r("cause-explanation",{ref:"causeDom"})],1)},xe=[],Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"工件bom清单",visible:e.bomDialogVisible,"append-to-body":!0,"modal-append-to-body":!1,width:"65%"},on:{"update:visible":function(t){e.bomDialogVisible=t},opne:e.openDialog}},[r("el-table",{ref:"table",attrs:{data:e.bomTableList,height:"450",border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),r("el-table-column",{attrs:{prop:"Matname",label:"材料"}}),r("el-table-column",{attrs:{prop:"DetailName",label:"部件名称",width:"100"}}),r("el-table-column",{attrs:{prop:"Barcode",label:"部件编码"}}),r("el-table-column",{attrs:{prop:"Length",label:"长度",width:"90"}}),r("el-table-column",{attrs:{prop:"Width",label:"宽度",width:"90"}}),r("el-table-column",{attrs:{prop:"Cnt",label:"数量",width:"70"}}),r("el-table-column",{attrs:{prop:"Matgrid",label:"纹理方向",width:"80"}}),r("el-table-column",{attrs:{prop:"Prfid1",label:"封边信息"}}),r("el-table-column",{attrs:{prop:"Info2",label:"打孔信息",width:"100"}}),r("el-table-column",{attrs:{prop:"Info3",label:"备注"}})],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(){return e.bomDialogVisible=!1}}},[e._v("知道了")])],1)],1)},$e=[],Se={name:"addFinishProductDialog",data:function(){return{bomDialogVisible:!1,bomTableList:[]}},methods:{openDialog:function(e){var t=this,r=e.productionOrderId;this.bomDialogVisible=!0,Object(N["e"])({productionOrderId:r}).then((function(e){200===e.code&&e.success&&e.data&&(t.bomTableList=JSON.parse(e.data))}))}}},Te=Se,Le=Object(S["a"])(Te,Fe,$e,!1,null,null,null),Re=Le.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"终审驳回",visible:e.rejectVisible,"close-on-click-modal":!1,"destroy-on-close":!0,"append-to-body":!0,"modal-append-to-body":!1,width:"30%"},on:{"update:visible":function(t){e.rejectVisible=t}}},[e._l(e.rejectReasonList,(function(t){return r("el-checkbox-group",{key:t.id,staticStyle:{"margin-bottom":"10px"},on:{change:e.selectReason},model:{value:e.rejectList,callback:function(t){e.rejectList=t},expression:"rejectList"}},[r("el-checkbox",{attrs:{label:t.id,value:t.id}},[e._v(e._s(t.dictName))])],1)})),r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"原因说明"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.rejectVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitReject()}}},[e._v("确定")])],1)],2)},Ne=[];function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue={props:["rejectorpassQuery","rejectReasonList"],data:function(){return{rejectVisible:!1,reason:"",rejectList:[]}},methods:{selectReason:function(e){this.rejectList=e},submitReject:function(){var e=this;this.rejectList.length?(this.rejectorpassQuery.operateReasonId=this.rejectList.join(),this.rejectorpassQuery.remark=this.reason,this.$confirm("此操作将驳回该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["y"])(Ve({},e.rejectorpassQuery)).then((function(t){200===t.code&&t.success&&(e.$message.success("操作成功"),e.rejectVisible=!1,e.rejectList.length=0,e.reason="",e.getProgramList(),e.getOrderDetailData({orderId:e.orderId}))}))})).catch((function(){}))):this.$message.warning("请勾选驳回原因")}}},Me=Ue,Be=Object(S["a"])(Me,Ee,Ne,!1,null,null,null),ze=Be.exports;function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ye={components:{bom:Re,finishDialog:ze,supRespDialog:re,causeExplanation:fe},data:function(){return{rejectReasonList:[],rejectorpassQuery:{productionOrderId:"",orderId:""}}},computed:qe({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData},programList:function(e){return e.order.programList}})),watch:{"orderDetailData.stage":{handler:function(e,t){this.getProgramList()}},"orderDetailData.orderId":{handler:function(e,t){this.getProgramList()}}},mounted:function(){this.getProgramList()},methods:qe({},Object(k["b"])({getOrderDetailData:"getOrderDetailData",getProgramList:"getProgramList"}),{productionRowOpt:function(e,t,r){switch(t){case"reject":this.$refs.finishDialog.rejectVisible=!0,this.handleReject(e);break;case"pass":this.handlePass(e);break;case"claim":this.claim(e);break;case"back":this.getClaimBack(e);break;case"json":this.getJson(e,r);break;case"refreshprogress":this.handleRefreshKjlStatus(e);break;case"bom":this.bomData(e);break;case"refreshweek":this.updateDeliveryData(e);break;default:}},updateDeliveryData:function(e){var t=this,r=e.productionOrderId;Object(N["nb"])({productionOrderId:r}).then((function(e){200===e.code&&e.success&&(t.$message.success("操作成功"),t.getProgramList())}))},bomData:function(e){this.$refs.bomDom.openDialog(e)},handleRefreshKjlStatus:function(e){var t=this,r=e.productionOrderId;Object(N["ab"])({productionOrderId:r}).then((function(r){200===r.code&&r.success?(e.disabled=!0,t.$message.success("操作成功"),t.getProgramList()):t.$message.error("操作失败")}))},getJson:function(e,t){var r=this,a=e.productionOrderId;e.productionOrderId===t&&(this.isDisabledJsonBtn=!0),Object(N["Y"])({productionOrderId:a}).then((function(t){200===t.code&&t.success?(e.disabled=!0,r.$message.success("操作成功"),r.getProgramList()):r.$message.error("操作失败")}))},getClaimBack:function(e){var t=this;this.$confirm("您确定驳回这个订单初审吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var r=e.productionOrderId;Object(N["g"])({productionOrderId:r}).then((function(e){200===e.code&&e.success?(t.$message.success("操作成功"),t.getProgramList(),t.getOrderDetailData({orderId:t.$route.params.orderId})):t.$message.error("操作失败")}))})).catch((function(){console.log("取消初审退回操作")}))},handleReject:function(e){var t=this;this.rejectorpassQuery.productionOrderId=e.productionOrderId,this.rejectorpassQuery.orderId=this.$route.params.orderId,this.rejectVisible=!0,Object(W["c"])({dictTypeCode:"final_audit_reject_reason"}).then((function(e){200===e.code&&e.success&&(t.rejectReasonList=e.data)}))},handlePass:function(e){var t=this;this.rejectorpassQuery.productionOrderId=e.productionOrderId,this.rejectorpassQuery.orderId=this.$route.params.orderId,this.$confirm("此操订单将终审通过, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["x"])(qe({},t.rejectorpassQuery)).then((function(e){200===e.code&&e.success&&(t.$message.success("操作成功"),t.getProgramList(),t.getOrderDetailData({orderId:t.$route.params.orderId}))}))}))},claim:function(e){var t=JSON.parse(sessionStorage.getItem("vuex")).user,r=t.userId,a=t.kjlListenUrl,o=e.productionOrderId;Object(N["G"])({productionOrderId:o}).then((function(t){200===t.code&&t.success&&window.open("".concat(a,"/index.html?iframeUrl=").concat(t.data,"&pageurl=").concat(window.location.href,"&productionOrderId=").concat(e.productionOrderId,"&userId=").concat(r))}))},handleCauseExplanation:function(e){this.$refs.causeDom.productionOrderId=e.productionOrderId,this.$refs.causeDom.causeVisible=!0},showResupplyDialog:function(e){this.$refs.supDialog.showResupplyDialog(e,"program")},handleCalaimDetail:function(e){var t=e.productionOrderId;Object(N["h"])({productionOrderId:t}).then((function(e){200===e.code&&e.success&&window.open(e.data)}))}})},Je=Ye,We=(r("e0ca"),Object(S["a"])(Je,Ce,xe,!1,null,"399927ae",null)),Ge=We.exports;function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var He={components:{finishPro:Oe,causeExplanation:fe,programDetail:ke,programList:Ge},data:function(){return{date:"",isDisabledJsonBtn:!1,submitVisible:!1,pickerEnd:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},computed:Xe({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData},programList:function(e){return e.order.programList}})),methods:Xe({},Object(k["b"])({getOrderDetailData:"getOrderDetailData"}),{opendialog:function(){this.checkedAllProgramList()},checkedAllProgramList:function(){var e=this;this.programList.map((function(t){e.$nextTick((function(){this.$refs&&this.$refs.table.toggleRowSelection(t,!0)}))}))}})},Ze=He,et=Object(S["a"])(Ze,Q,q,!1,null,null,null),tt=et.exports,rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-info-container"},[r("div",[r("el-divider",{attrs:{"content-position":"left"}},[e._v("交付信息"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("div",{staticClass:"program-content"},[r("div",{staticClass:"left"},[r("el-row",[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("期望交付日期：")]),r("span",[e._v(e._s(e.DWY_UTILS.getTimeYMD(e.orderDetailData.expectedDeliveryTime)))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("交付周期：")]),r("span",[e._v(e._s(e.orderDetailData.delivery)+"天")])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("计划交付日期：")]),r("span",[e._v(e._s(e.DWY_UTILS.getTimeYMD(e.orderDetailData.estimatedDeliveryTime)))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("是否加急：")]),r("span",[e._v(e._s(e.orderDetailData.urgentConfirm?"是":"否"))])])])],1)],1)])],1)])},at=[];function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it={computed:st({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}}))},nt=it,ct=(r("cbd7"),Object(S["a"])(nt,rt,at,!1,null,"69ed2dba",null)),lt=ct.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.cadFileList.length,expression:"cadFileList.length"}],staticClass:"cad-file-list"},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("CAD文件+附件"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-collapse",{staticClass:"cad-collapse margin-bottom-8",on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("el-collapse-item",{attrs:{title:"CAD文件",name:"1"}},e._l(e.cadFileList,(function(t,a){return r("a",{key:a,staticClass:"cad-link",attrs:{href:t.pathUrl}},[e._v(e._s(a+1)+"、"+e._s(t.fileName))])})),0),r("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.otherFileList.length,expression:"otherFileList.length"}],attrs:{title:"其他附件",name:"2"}},e._l(e.otherFileList,(function(t,a){return r("a",{key:a,staticClass:"other-link",attrs:{href:t.pathUrl}},[e._v(e._s(a+1)+"、"+e._s(t.fileName))])})),0)],1),1101===e.orderDetailData.status?r("el-button",{staticClass:"cad-design-button",attrs:{icon:"el-icon-scissors",size:"mini",type:"primary",plain:""},on:{click:e.toCad}},[e._v("设计")]):e._e()],1)},ut=[];function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt={data:function(){return{orderId:this.$route.params.orderId,activeNames:["1","2"],cadFileList:[],otherFileList:[]}},computed:ft({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}})),mounted:function(){var e=this;Object(N["f"])({orderId:this.orderId}).then((function(t){t.data&&t.data.length&&(e.cadFileList.length=0,e.otherFileList.length=0,t.data.forEach((function(t){t.name=t.fileName,0===t.type?e.cadFileList.push(t):e.otherFileList.push(t)})))}))},methods:{handleChange:function(e){console.log(e)},toCad:function(){this.$router.push({path:"/order/editCad/".concat(this.orderId)})}}},bt=mt,ht=(r("9b2d"),Object(S["a"])(bt,dt,ut,!1,null,null,null)),gt=ht.exports,vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-info-container"},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("费用信息"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-button",{staticClass:"add-free-btn",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:function(t){return e.handleAddFee()}}},[e._v("新增费用")]),e.order.feeList?r("el-table",{attrs:{data:e.order.feeList,border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号"}}),r("el-table-column",{attrs:{prop:"feeTypeName",label:"费用类型",width:"100"}}),r("el-table-column",{attrs:{prop:"bearerName",label:"承担方",width:"100"}}),r("el-table-column",{attrs:{prop:"fee",label:"费用金额（元）",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.renderMoney((t.row.fee||0).toFixed(2))))])]}}],null,!1,2775228090)}),r("el-table-column",{attrs:{prop:"proofPath",label:"凭证",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("viewer",{staticClass:"img-outer-box",attrs:{images:t.row.proofPathList}},e._l(t.row.proofPathList,(function(e,t){return r("img",{key:t,staticClass:"row-image-preview",attrs:{src:e}})})),0)]}}],null,!1,794892210)}),r("el-table-column",{attrs:{prop:"statusName",label:"扣款状态",width:"100"}}),r("el-table-column",{attrs:{prop:"remark",label:"说明","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"x",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:20!=t.row.status,expression:"scope.row.status != 20"}],attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(r){return e.edithandle(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(r){return e.removehandle(t.row)}}},[e._v("移除")]),r("el-button",{attrs:{type:"text",icon:"el-icon-money"},on:{click:function(r){return e.deducthandle(t.row)}}},[e._v("扣款")])]}}],null,!1,1286557328)})],1):e._e(),r("add-fee",{ref:"addfeeDialog"}),r("edit-fee",{ref:"editfeeDialog"})],1)},Ot=[],Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"添加费用","close-on-click-modal":!1,visible:e.feeVisible,"destroy-on-close":!0,"append-to-body":!0,"modal-append-to-body":!1,width:"30%"},on:{"update:visible":function(t){e.feeVisible=t},open:e.openFeeDialog}},[r("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"费用类型：",prop:"feeType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请选择"},model:{value:e.dataForm.feeType,callback:function(t){e.$set(e.dataForm,"feeType",t)},expression:"dataForm.feeType"}},e._l(e.feeTypeList,(function(e){return r("el-option",{key:e.dictCode,attrs:{label:e.dictName,value:e.dictCode}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"费用金额：",prop:"fee"}},[r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"理论结算价："}},[r("span",[e._v(e._s(e.renderMoney((e.orderPriceData.nominalSettlementPriceTotal||0).toFixed(2)))+" 元")])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"费用比例："}},[r("el-input",{attrs:{type:"number"},on:{input:e.cmoputeFee},model:{value:e.proportion,callback:function(t){e.proportion=t},expression:"proportion"}})],1)],1),r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"计算结果："}},[r("span",[e._v(e._s(e.feePrice)+" 元")])])],1)],1),r("el-input",{attrs:{slot:"reference",placeholder:"请输入",clearable:""},on:{blur:e.adddot},slot:"reference",model:{value:e.dataForm.fee,callback:function(t){e.$set(e.dataForm,"fee",t)},expression:"dataForm.fee"}})],1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"承担方：",prop:"bearer"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请选择"},model:{value:e.dataForm.bearer,callback:function(t){e.$set(e.dataForm,"bearer",t)},expression:"dataForm.bearer"}},e._l(e.bearerList,(function(e){return r("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"说明：",size:"mini",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",rows:2,clearable:"",placeholder:"请输入"},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,"remark",t)},expression:"dataForm.remark"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"凭证：",size:"mini",prop:"proofPath"}},[r("el-upload",{class:{disabled:e.isMax},attrs:{action:"/upload/uploadFile","list-type":"picture-card","on-preview":e.handlePicturePreview,"http-request":e.uploadSectionFile,"on-change":e.changeUpload,"on-remove":e.handleRemoveImg}},[r("i",{staticClass:"el-icon-plus"})]),r("el-dialog",{staticClass:"image-dialog",attrs:{visible:e.picturePreviewVisible,modal:!1},on:{"update:visible":function(t){e.picturePreviewVisible=t}}},[r("img",{attrs:{width:"100%",src:e.imageUrls,alt:""}})])],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.feeVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},yt=[];function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _t={data:function(){return{feeVisible:!1,isMax:!1,orderId:this.$route.params.orderId,dataForm:{feeType:"",fee:"",bearer:"",proofPath:"",remark:""},feeTypeList:[],bearerList:[],images:[],uploadList:[],picturePreviewVisible:!1,imageUrls:"",proportion:0,feePrice:0,dataRule:{feeType:[{required:!0,message:"费用不能为空",trigger:"change"}],fee:[{required:!0,message:"费用金额不能为空",trigger:"blur"},{validator:ie["e"],trigger:"change"}],bearer:[{required:!0,message:"承担方不能为空",trigger:"change"}]}}},computed:wt({},Object(k["d"])({orderPriceData:function(e){return e.order.orderPriceData}})),mounted:function(){this.getCostType()},methods:wt({},Object(k["b"])({getFeeList:"getFeeList"}),{openFeeDialog:function(){this.getBearerList(),this.isMax=!1},cmoputeFee:function(){if(this.orderPriceData.nominalSettlementPriceTotal){var e=(this.proportion*this.orderPriceData.nominalSettlementPriceTotal).toFixed(2);this.dataForm.fee=e,this.feePrice=e}},getCostType:function(){var e=this;Object(W["c"])({dictTypeCode:"order_fee_type"}).then((function(t){200===t.code&&t.success&&(e.feeTypeList=t.data)}))},getBearerList:function(){var e=this;Object(N["d"])().then((function(t){200===t.code&&t.success&&(e.bearerList=t.data)}))},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var r=e,a=Object(ne["e"])(r.dataForm);a.orderId=r.orderId,a.proofPath=a.proofPath&&a.proofPath.join(),Object(N["b"])(a).then((function(e){200===e.code&&e.success?(r.$message.success("操作成功"),r.images.length=0,r.getFeeList({orderId:r.orderId}),r.feeVisible=!1,r.$refs.dataForm.resetFields()):r.$message.error("操作失败")}))}}))},adddot:function(){this.dataForm.fee=(parseFloat(this.dataForm.fee)||0).toFixed(2)},handlePicturePreview:function(e){this.imageUrls=e.url,this.picturePreviewVisible=!0},changeUpload:function(e,t){t.length>=1&&(this.isMax=!0)},uploadSectionFile:function(e){var t=this,r=this,a=new FormData;a.append("file",e.file),Object(W["d"])(a).then((function(a){r.images.push(a.data),r.uploadList.push({uid:e.file.uid,url:a.data}),t.dataForm.proofPath=t.images,t.$refs["dataForm"]&&t.$refs["dataForm"].validateField&&t.$refs["dataForm"].validateField("proofPath")}))},handleRemoveImg:function(e,t){var r=this,a=this.uploadList,o="",s=[],i=[];a&&a.map((function(t){t.uid===e.uid&&(o=t.url),t.uid!==e.uid&&(s.push(t.url),i.push(t))})),s=s.filter((function(e){return"undefined"!==e})),this.images=s,o&&Object(W["b"])({url:o}).then((function(e){200===e.code&&e.success&&(r.uploadList=i,r.$message.success("删除成功"))})),t.length<1&&(this.isMax=!1),this.delImages=t}})},Pt=_t,It=(r("55f2"),Object(S["a"])(Pt,Dt,yt,!1,null,"8a6ddfc6",null)),kt=It.exports,Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"编辑费用","close-on-click-modal":!1,visible:e.feeVisible,"destroy-on-close":!0,"append-to-body":!0,"modal-append-to-body":!1,width:"30%"},on:{"update:visible":function(t){e.feeVisible=t},open:e.openFeeDialog}},[r("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"费用类型：",prop:"feeType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请选择"},model:{value:e.dataForm.feeType,callback:function(t){e.$set(e.dataForm,"feeType",t)},expression:"dataForm.feeType"}},e._l(e.feeTypeList,(function(e){return r("el-option",{key:e.dictCode,attrs:{label:e.dictName,value:e.dictCode}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"费用金额：",prop:"fee"}},[r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"理论结算价："}},[r("span",[e._v(e._s(e.renderMoney((e.orderPriceData.nominalSettlementPriceTotal||0).toFixed(2)))+" 元")])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"费用比例："}},[r("el-input",{attrs:{type:"number"},model:{value:e.proportion,callback:function(t){e.proportion=t},expression:"proportion"}})],1)],1),r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"计算结果："}},[r("span",[e._v(e._s(e.feePrice)+" 元")])])],1)],1),r("el-input",{attrs:{slot:"reference",placeholder:"请输入",clearable:""},on:{blur:e.adddot},slot:"reference",model:{value:e.dataForm.fee,callback:function(t){e.$set(e.dataForm,"fee",t)},expression:"dataForm.fee"}})],1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"承担方：",prop:"bearer"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请选择"},model:{value:e.dataForm.bearer,callback:function(t){e.$set(e.dataForm,"bearer",t)},expression:"dataForm.bearer"}},e._l(e.bearerList,(function(e){return r("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"说明：",size:"mini",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",rows:2,clearable:"",placeholder:"请输入"},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,"remark",t)},expression:"dataForm.remark"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"凭证：",size:"mini",prop:"proofPath"}},[r("el-upload",{ref:"upload",class:{disabled:e.isMax},attrs:{action:"/upload/uploadFile","list-type":"picture-card","on-preview":e.handlePicturePreview,"http-request":e.uploadSectionFile,"file-list":e.fileList[0]&&e.fileList[0].url?e.fileList:[],"on-change":e.changeUpload,"on-remove":e.handleRemoveImg}},[r("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:e.clearUploadedImage}},[e._v(e._s(e.fileList[0]&&e.fileList[0].url?"更换":"上传"))])],1),r("el-dialog",{staticClass:"image-dialog",attrs:{visible:e.picturePreviewVisible,modal:!1},on:{"update:visible":function(t){e.picturePreviewVisible=t}}},[r("img",{attrs:{width:"100%",src:e.imageUrls,alt:""}})])],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.feeVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},xt=[];function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var St={data:function(){return{feeVisible:!1,isMax:!1,id:"",orderId:"",fileList:[{url:""}],dataForm:{feeType:"",fee:0,bearer:"",proofPath:"",remark:""},feeTypeList:[],bearerList:[],images:[],uploadList:[],picturePreviewVisible:!1,imageUrls:"",proportion:0,dataRule:{feeType:[{required:!0,message:"费用不能为空",trigger:"change"}],fee:[{required:!0,message:"费用金额不能为空",trigger:"blur"},{validator:ie["e"],trigger:"change"}],bearer:[{required:!0,message:"承担方不能为空",trigger:"change"}]}}},computed:$t({},Object(k["d"])({orderPriceData:function(e){return e.order.orderPriceData}}),{feePrice:{get:function(){return 0},set:function(){if(this.orderPriceData.nominalSettlementPriceTotal&&this.proportion){var e=(this.proportion*this.orderPriceData.nominalSettlementPriceTotal).toFixed(2);return this.dataForm.fee=e,e}}}}),mounted:function(){this.orderId=this.$route.params.orderId,this.getCostType()},methods:$t({},Object(k["b"])({getFeeList:"getFeeList"}),{init:function(e){var t=this;t.id=e,Object(N["u"])({id:e}).then((function(e){if(200===e.code&&e.success){var r=e.data;t.fileList[0].url=r.proofPath,t.dataForm=$t({},r)}}))},openFeeDialog:function(){this.getBearerList(),this.isMax=!1},getCostType:function(){var e=this;Object(W["c"])({dictTypeCode:"order_fee_type"}).then((function(t){200===t.code&&t.success&&(e.feeTypeList=t.data)}))},getBearerList:function(){var e=this;Object(N["d"])().then((function(t){200===t.code&&t.success&&(e.bearerList=t.data)}))},clearUploadedImage:function(){this.$refs.upload.clearFiles()},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var r=e,a=Object(ne["e"])(r.dataForm);a.orderId=r.orderId,a.proofPath=r.images.join()||r.fileList[0].url,a.id=r.id,Object(N["s"])(a).then((function(e){200===e.code&&e.success?(r.$message.success("操作成功"),r.feeVisible=!1,r.images.length=0,r.$refs.dataForm.resetFields(),r.getFeeList({orderId:r.orderId})):r.$message.error("操作失败")}))}}))},adddot:function(){this.dataForm.fee=(parseFloat(this.dataForm.fee)||0).toFixed(2)},handlePicturePreview:function(e){this.imageUrls=e.url,this.picturePreviewVisible=!0},changeUpload:function(e,t){t.length>=1&&(this.isMax=!0)},uploadSectionFile:function(e){var t=this,r=this,a=new FormData;a.append("file",e.file),Object(W["d"])(a).then((function(a){r.images.push(a.data),r.uploadList.push({uid:e.file.uid,url:a.data}),t.dataForm.proofPath=t.images,t.$refs["dataForm"]&&t.$refs["dataForm"].validateField&&t.$refs["dataForm"].validateField("proofPath")}))},handleRemoveImg:function(e,t){var r=this,a=this.uploadList,o="",s=[],i=[];a&&a.map((function(t){t.uid===e.uid&&(o=t.url),t.uid!==e.uid&&(s.push(t.url),i.push(t))})),s=s.filter((function(e){return"undefined"!==e})),this.images=s,o&&Object(W["b"])({url:o}).then((function(e){200===e.code&&e.success&&(r.uploadList=i,r.$message.success("删除成功"))})),t.length<1&&(this.isMax=!1),this.delImages=t}})},Tt=St,Lt=(r("10f4"),Object(S["a"])(Tt,Ct,xt,!1,null,"1a8cd919",null)),Rt=Lt.exports;function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At={components:{addFee:kt,editFee:Rt},computed:Nt({},Object(k["d"])({order:"order"})),watch:{"order.orderDetailData.orderId":{handler:function(e,t){this.getFeeList({orderId:this.$route.params.orderId})}}},mounted:function(){this.getFeeList({orderId:this.$route.params.orderId})},methods:Nt({},Object(k["b"])({getFeeList:"getFeeList"}),{handleAddFee:function(){this.$refs.addfeeDialog.feeVisible=!0},edithandle:function(e){var t=this;this.$refs.editfeeDialog.feeVisible=!0,this.$nextTick((function(){t.$refs.editfeeDialog.init(e.id)}))},removehandle:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["cb"])({id:e.id}).then((function(e){200===e.code&&e.success?(t.$message.success("操作成功"),t.getFeeList({orderId:t.$route.params.orderId})):t.$message.error("操作失败")}))})).catch((function(){}))},deducthandle:function(e){var t=this,r=e.id;this.$confirm("此操作将扣除金额 ".concat(e.fee," 元, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["j"])({id:r}).then((function(e){200===e.code&&e.success?(t.$message.success("操作成功"),t.getFeeList({orderId:t.$route.params.orderId})):t.$message.error("操作失败")}))})).catch((function(){}))},adddot:function(){this.dataForm.money&&-1===this.dataForm.money.indexOf(".")?this.dataForm.money=Object(ne["a"])(this.dataForm.money):this.dataForm.money=(+this.dataForm.money).toFixed(2)},handlePicturePreview:function(e){this.ImageUrls=e.url,this.picturePreviewVisible=!0},uploadSectionFile:function(e){var t=this,r=this,a=new FormData;a.append("file",e.file),Object(W["d"])(a).then((function(a){r.images.push(a.data),r.uploadList.push({uid:e.file.uid,url:a.data}),t.dataForm.proofPath=t.images,t.$refs["dataForm"]&&t.$refs["dataForm"].validateField&&t.$refs["dataForm"].validateField("proofPath")}))},handleRemoveImg:function(e,t){var r=this,a=this.uploadList,o="",s=[],i=[];a&&a.map((function(t){t.uid===e.uid&&(o=t.url),t.uid!==e.uid&&(s.push(t.url),i.push(t))})),s=s.filter((function(e){return"undefined"!==e})),this.images=s,o&&Object(W["b"])({url:o}).then((function(e){200===e.code&&e.success&&(r.uploadList=i,r.$message.success("删除成功"))})),this.delImages=t}})},Vt=At,Ut=(r("c93e"),Object(S["a"])(Vt,vt,Ot,!1,null,"64ceace0",null)),Mt=Ut.exports,Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.orderDetailData.status>3e3?r("div",{staticClass:"order-info-container"},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("报价信息"),r("i",{staticClass:"el-icon-thumb thumb"})]),r("el-row",[r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.orderPriceData.retailPriceTotal,expression:"orderPriceData.retailPriceTotal"}],attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("总金额(零售价)： ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.orderPriceData.retailPriceTotal,expression:"orderPriceData.retailPriceTotal"}],staticClass:"price price_1"},[r("i",{staticClass:"rmb"},[e._v("¥")]),e._v(" "+e._s(e.renderMoney((e.orderPriceData.retailPriceTotal||0).toFixed(2))))])])]),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.orderPriceData.nominalSettlementPriceTotal,expression:"orderPriceData.nominalSettlementPriceTotal"}],attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("理论结算价：")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.orderPriceData.nominalSettlementPriceTotal,expression:"orderPriceData.nominalSettlementPriceTotal"}],staticClass:"price price_2"},[r("i",{staticClass:"rmb"},[e._v("¥")]),e._v(" "+e._s(e.renderMoney((e.orderPriceData.nominalSettlementPriceTotal||0).toFixed(2))))])])]),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.orderPriceData.finalSettlementPriceTotal,expression:"orderPriceData.finalSettlementPriceTotal"}],attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("实际结算价：")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.orderPriceData.finalSettlementPriceTotal,expression:"orderPriceData.finalSettlementPriceTotal"}],staticClass:"price price_3"},[r("i",{staticClass:"rmb"},[e._v("¥")]),e._v(" "+e._s(e.renderMoney((e.orderPriceData.finalSettlementPriceTotal||0).toFixed(2))))])])]),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"info-item"},[r("span",{staticClass:"info-label"},[e._v("结算系数(折扣)：")]),r("span",{staticClass:"price price_4"},[e._v(e._s(e.orderPriceData.discount))])])])],1),r("el-row",{staticStyle:{"padding-bottom":"10px"}},[r("el-col",{staticClass:"text-center",attrs:{span:6}},[e.orderDetailData.status>e.ORDER_STATUS.FIRST_TRIAL[2]["code"]?r("el-button",{attrs:{type:"primary",icon:"el-icon-document",plain:"",size:"mini"},on:{click:e.plateLink}},[e._v("板件报价明细")]):e._e()],1),e.orderDetailData.status!==e.ORDER_STATUS.PRICING[0]["code"]&&e.orderDetailData.status!==e.ORDER_STATUS.PRICING[1]["code"]||!e.hasPermission(e.Permission.price.modify_reject.code)?e._e():r("el-col",{staticClass:"text-center",attrs:{span:6}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-refresh-left",plain:"",size:"mini"},on:{click:e.backPricing}},[e._v("核价驳回")]),r("el-button",{attrs:{type:"warning",icon:"el-icon-edit",plain:"",size:"mini"},on:{click:e.alterLink}},[e._v("订单改价")])],1),e.orderDetailData.status===e.ORDER_STATUS.PRICING[3]["code"]?r("el-col",{staticClass:"text-center",attrs:{span:6}},[r("el-button",{staticClass:"btn-link",attrs:{icon:"el-icon-thumb",size:"mini",type:"warning"},on:{click:e.updateMes}},[e._v("手动更新MES")])],1):e._e(),e.orderDetailData.status>=e.ORDER_STATUS.FIRST_TRIAL[2]["code"]?r("el-col",{staticClass:"text-center",attrs:{span:6}},[r("el-button",{staticClass:"btn-link",attrs:{icon:"el-icon-thumb",size:"mini",type:"success"},on:{click:e.gotoMes}},[e._v("跳转MES")])],1):e._e()],1)],1):e._e()},zt=[],Qt=r("d9f2");function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jt={data:function(){return{houseAddress:"",ORDER_STATUS:Qt["a"],toPercent:ne["n"]}},computed:Yt({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData},orderPriceData:function(e){return e.order.orderPriceData}})),watch:{"orderDetailData.orderId":{handler:function(e,t){this.getOrderPrice()}}},mounted:function(){this.getOrderPrice()},methods:Yt({},Object(k["b"])({getOrderDetailData:"getOrderDetailData",getOrderPrice:"getOrderPrice"}),{plateLink:function(){this.$router.push({path:"/order/price/plate/".concat(this.$route.params.orderId)})},backPricing:function(){var e=this;this.$confirm("您确定驳回这个订单核价吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["bb"])({orderId:e.$route.params.orderId}).then((function(t){200===t.code&&t.success&&(e.$message.success("核价退回成功"),e.getOrderDetailData({orderId:e.$route.params.orderId}))}))})).catch((function(){console.log("取消核价驳回")}))},alterLink:function(){this.$router.push({path:"/order/price/alter/".concat(this.$route.params.orderId)})},gotoMes:function(){window.open("http://ishare.bulansha.com:3333/EBAP")},updateMes:function(){var e=this;Object(N["M"])({orderId:this.$route.params.orderId}).then((function(t){200===t.code&&t.success&&e.$message.success("手动提交Ishare订单数据成功")}))}})},Wt=Jt,Gt=(r("81e94"),Object(S["a"])(Wt,Bt,zt,!1,null,"25397b2e",null)),Kt=Gt.exports,Xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"更新收货地址","close-on-click-modal":!1,visible:e.visible,"destroy-on-close":!0,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"收货人：",prop:"consignee"}},[r("el-input",{staticStyle:{width:"87%"},attrs:{clearable:"",type:"text",placeholder:"请输入"},model:{value:e.dataForm.consignee,callback:function(t){e.$set(e.dataForm,"consignee",t)},expression:"dataForm.consignee"}})],1),r("el-form-item",{attrs:{label:"联系方式：",prop:"consigneeMobile"}},[r("el-input",{staticStyle:{width:"87%"},attrs:{clearable:"",type:"text",placeholder:"请输入"},model:{value:e.dataForm.consigneeMobile,callback:function(t){e.$set(e.dataForm,"consigneeMobile",t)},expression:"dataForm.consigneeMobile"}})],1),r("el-form-item",{attrs:{label:"收货地址：",prop:"consigneeAddress"}},[r("el-input",{staticStyle:{width:"87%"},attrs:{clearable:"",type:"text",placeholder:"请输入"},model:{value:e.dataForm.consigneeAddress,callback:function(t){e.$set(e.dataForm,"consigneeAddress",t)},expression:"dataForm.consigneeAddress"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},Ht=[];function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tr={props:["status","sh_name","sh_mobile","sh_address"],data:function(){return{dataForm:{consignee:"",consigneeMobile:"",consigneeAddress:""},visible:!1,orderId:"",dataRule:{consignee:[{required:!0,message:"收货人不能为空",trigger:"blur"}],consigneeMobile:[{required:!0,message:"联系方式不能为空",trigger:"blur"},{validator:ie["f"],trigger:"change"}],consigneeAddress:[{required:!0,message:"收货地址不能为空",trigger:"blur"}]}}},mounted:function(){var e={consignee:this.sh_name,consigneeMobile:this.sh_mobile,consigneeAddress:this.sh_address};this.dataForm=er({},e)},methods:{dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){var r=e;if(t){var a=Object(ne["e"])(r.dataForm);a.orderId=r.orderId,r.$confirm("此操作将前往iShare, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["m"])(a).then((function(e){200===e.code&&e.success?(r.$message.success("操作成功"),r.$refs["dataForm"].resetFields(),r.visible=!1,window.open("http://ishare.bulansha.com:3333/EBAP")):r.$message.error("".concat(e.message," || 操作失败"))}))}))}}))}}},rr=tr,ar=Object(S["a"])(rr,Xt,Ht,!1,null,"0ed62470",null),or=ar.exports,sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"更新计划交期",visible:e.visible,"destroy-on-close":!0,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"updateForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"计划交付日期：",prop:"estimatedDeliveryTime"}},[r("el-col",{attrs:{span:6}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerEnd,placeholder:"选择日期"},model:{value:e.form.estimatedDeliveryTime,callback:function(t){e.$set(e.form,"estimatedDeliveryTime",t)},expression:"form.estimatedDeliveryTime"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},ir=[],nr={props:["extimatedTime"],data:function(){var e=this;return{visible:!1,form:{orderId:this.$route.params.orderId,estimatedDeliveryTime:""},rules:{estimatedDeliveryTime:[{required:!0,message:"请选择计划交付日期",trigger:"change"}]},pickerEnd:{disabledDate:function(t){return t.getTime()<Object(ie["c"])(e.extimatedTime)}}}},methods:{submitForm:function(){var e=this;this.$refs["updateForm"].validate((function(t){t&&Object(N["jb"])(e.form).then((function(t){200===t.code&&t.success&&(e.$message.success("计划交期更新成功"),e.visible=!1,e.$parent.getDetail())}))}))}}},cr=nr,lr=Object(S["a"])(cr,sr,ir,!1,null,null,null),dr=lr.exports,ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"订单加急申请",visible:e.visible,"destroy-on-close":!0},on:{"update:visible":function(t){e.visible=t},open:function(t){return e.getUrgentOrderInfo()}}},[r("el-form",{ref:"urgentForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"加急交付周期：",prop:"urgentCycle"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择交付周期"},on:{change:e.calculateDate},model:{value:e.form.urgentCycle,callback:function(t){e.$set(e.form,"urgentCycle",t)},expression:"form.urgentCycle"}},e._l(15,(function(e){return r("el-option",{key:e,attrs:{label:e+6,value:e+6}})})),1)],1),r("el-col",{staticClass:"urgent-info",attrs:{span:6}},[r("urgent-order")],1)],1)],1),r("el-form-item",{attrs:{label:"估算发货日期："}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{type:"text",value:e.filtertime1(e.expectDate),disabled:""}})],1)],1),r("el-form-item",{attrs:{label:"是否收费：",prop:"urgentCharge"}},[r("el-radio-group",{model:{value:e.form.urgentCharge,callback:function(t){e.$set(e.form,"urgentCharge",t)},expression:"form.urgentCharge"}},[r("el-radio",{attrs:{label:!0}},[e._v("是")]),r("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{label:"加急备注："}},[r("el-col",{attrs:{span:18}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.urgentRemark,callback:function(t){e.$set(e.form,"urgentRemark",t)},expression:"form.urgentRemark"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},pr=[],fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("h3",[e._v(e._s(e.urgentInfo.areaName))]),r("br"),r("el-row",[r("el-col",{attrs:{span:20}},[e._v("上月结算业绩："+e._s(e.urgentInfo.finalSettlementPrice?e.urgentInfo.finalSettlementPrice.toFixed(2):0)+" 元")])],1),r("br"),r("div",{staticClass:"wrapper-popover"},[r("el-timeline",e._l(e.urgentInfo.urgentList,(function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:e.DWY_UTILS.getTimeYMD(t.createTime)}},[e._v("\n                "+e._s(t.orderCode)+" ("+e._s(t.urgentCharge?"收费":"未收费")+")\n            ")])})),1)],1),r("el-button",{attrs:{slot:"reference",type:"warning",plain:"",icon:"el-icon-document"},slot:"reference"},[e._v("查看上月加急订单")])],1)},mr=[];function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gr={data:function(){return{orderId:this.$route.params.orderId}},computed:hr({},Object(k["d"])({urgentInfo:function(e){return e.order.urgentInfo}})),mounted:function(){},methods:{}},vr=gr,Or=(r("026d"),Object(S["a"])(vr,fr,mr,!1,null,"6c2e4e03",null)),Dr=Or.exports;function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wr={components:{urgentOrder:Dr},data:function(){return{visible:!1,form:{orderId:this.$route.params.orderId,urgentCycle:"",urgentCharge:!0,urgentRemark:""},expectDate:(new Date).getTime(),filtertime1:ie["b"],rules:{urgentCycle:[{required:!0,message:"请选择交付周期",trigger:"change"}],urgentCharge:[{required:!0,trigger:"change"}]}}},methods:jr({},Object(k["b"])({getUrgentOrderInfo:"getUrgentOrderInfo"}),{calculateDate:function(){if(this.form.urgentCycle){var e=new Date;e.setTime(e.getTime()+864e5*this.form.urgentCycle),this.expectDate=e.getTime()}},submitForm:function(){var e=this,t=this;t.$refs["urgentForm"].validate((function(r){r&&Object(N["ob"])(e.form).then((function(e){200===e.code&&e.success&&(t.$message.success("订单加急提交成功"),t.visible=!1,t.$parent.getDetail())}))}))}})},_r=wr,Pr=(r("a46b"),Object(S["a"])(_r,ur,pr,!1,null,"9fae891c",null)),Ir=Pr.exports,kr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.isConfirm?"订单加急确认":"订单加急驳回",visible:e.visible,"destroy-on-close":!0},on:{"update:visible":function(t){e.visible=t},open:function(t){return e.getUrgentOrderInfo()}}},[r("el-form",{ref:"urgentForm",attrs:{"label-width":"120px"}},[r("el-form-item",{attrs:{label:"加急交付周期：",prop:"urgentCycle"}},[r("el-row",[r("el-col",{attrs:{span:6}},[e._v(e._s(e.orderDetailData.urgentCycle)+" 天")]),r("el-col",{staticClass:"urgent-info",attrs:{span:6}},[r("urgent-order")],1)],1)],1),r("el-form-item",{attrs:{label:"估算发货日期："}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{type:"text",value:e.filtertime1(e.expectDate),disabled:""}})],1)],1),r("el-form-item",{attrs:{label:"是否收费：",prop:"urgentCharge"}},[r("el-col",[e._v(e._s(e.orderDetailData.urgentCharge?"是":"否"))])],1),r("el-form-item",{attrs:{label:"加急备注："}},[r("el-col",{attrs:{span:18}},[r("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.orderDetailData.urgentRemark,callback:function(t){e.$set(e.orderDetailData,"urgentRemark",t)},expression:"orderDetailData.urgentRemark"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)},Cr=[];function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $r={props:{handleAddFee:{type:Function,default:null}},components:{urgentOrder:Dr},data:function(){return{orderId:this.$route.params.orderId,visible:!1,isConfirm:!0,expectDate:(new Date).getTime(),filtertime1:ie["b"]}},computed:Fr({},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}})),mounted:function(){this.calculateDate()},methods:Fr({},Object(k["b"])({getUrgentOrderInfo:"getUrgentOrderInfo",getOrderDetailData:"getOrderDetailData"}),{calculateDate:function(){if(this.orderDetailData.urgentCycle){var e=new Date;e.setTime(e.getTime()+864e5*this.orderDetailData.urgentCycle),this.expectDate=e.getTime()}},backForm:function(){var e=this;this.$confirm("您确定驳回这个加急订单吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["pb"])({orderId:e.orderId}).then((function(t){e.getOrderDetailData({orderId:e.orderId}).then((function(t){e.visible=!1,e.$message({type:"success",message:"驳回成功"})}))}))})).catch((function(){console.log("取消加急驳回")}))},confirmForm:function(){var e=this;this.$confirm("您确定通过这个加急订单吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["rb"])({orderId:e.orderId,urgentCharge:!0}).then((function(t){e.getOrderDetailData({orderId:e.orderId}).then((function(t){e.handleAddFee(),e.visible=!1,e.$parent.handleAddFee(),e.$message({type:"success",message:"通过成功"})}))}))})).catch((function(){console.log("取消加急通过")}))},submitForm:function(){this.isConfirm?this.confirmForm():this.backForm()}})},Sr=$r,Tr=(r("68f0"),Object(S["a"])(Sr,kr,Cr,!1,null,"8bbef54c",null)),Lr=Tr.exports,Rr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-drawer",{attrs:{title:"日志列表",visible:e.drawer,size:"40%"},on:{"update:visible":function(t){e.drawer=t},open:e.openDrawer}},[r("el-timeline",{attrs:{reverse:!0}},e._l(e.logsData,(function(t,a){return r("el-timeline-item",{key:a,attrs:{placement:"top",type:t.type,icon:t.icon,timestamp:t.stageName+"【"+e.DWY_UTILS.getTimeYMD(t.createTime)+" ，"+e.DWY_UTILS.getTimeYMD(t.endTime)+"】"}},e._l(t.stageLogList,(function(t,a){return r("el-card",{key:a},[r("div",{staticClass:"logs-row"},[r("p",[r("span",{staticClass:"logs-label"},[e._v("操作：")]),r("span",{staticClass:"logs-val"},[e._v(e._s(t.operateTypeName))])]),r("p",[r("span",{staticClass:"logs-label"},[e._v("操作时间：")]),r("span",{staticClass:"logs-val"},[e._v(e._s(t.operateTime))])]),r("p",[r("span",{staticClass:"logs-label"},[e._v("操作人：")]),r("span",{staticClass:"logs-val"},[e._v(e._s(t.operateUser))])]),r("p",[r("span",{staticClass:"logs-label"},[e._v("操作记录：")]),r("span",{staticClass:"logs-val"},[e._v(e._s(t.operateContent))])])])])})),1)})),1)],1)],1)},Er=[],Nr={data:function(){return{drawer:!1,orderId:"",logsData:[]}},methods:{openDrawer:function(){var e=this;Object(N["O"])({orderId:this.orderId}).then((function(t){if(200===t.code&&t.success){var r=t.data;r&&r.map((function(e){e.type="primary",e.icon="el-icon-more"})),e.logsData=r}}))}}},Ar=Nr,Vr=(r("9242"),Object(S["a"])(Ar,Rr,Er,!1,null,"179eccaa",null)),Ur=Vr.exports,Mr=r("6d1c"),Br=r.n(Mr),zr=r("c289"),Qr=r.n(zr),qr=r("36a0"),Yr=r.n(qr),Jr=r("2edd"),Wr=r.n(Jr),Gr=r("f6b4c"),Kr=r.n(Gr);function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zr={name:"orderDetail",components:{detailSteps:L,orderInfo:z,programInfo:tt,deliverInfo:lt,cost:Mt,quotation:Kt,deliverGoods:or,cadDetailList:gt,urgentApply:Ir,urgentConfirm:Lr,updateDelivery:dr,orderLogs:Ur},data:function(){return{scrollops:i["a"],orderId:this.$route.params.orderId,customerName:""}},computed:Hr({orderIconCategory:function(){var e;switch(this.orderDetailData.orderCategory){case 10:e="";break;case 20:e=Qr.a;break;default:e="";break}return e},orderIconType:function(){var e;switch(this.orderDetailData.orderType){case 10:e=Br.a;break;case 20:e=Yr.a;break;default:e=Br.a;break}return e},orderIconUrgent:function(){return this.orderDetailData.urgentConfirm?Wr.a:""},orderIconStandard:function(){return this.orderDetailData.standard?Kr.a:""}},Object(k["d"])({orderDetailData:function(e){return e.order.orderDetailData}})),watch:{$route:function(e,t){this.orderId!==this.$route.params.orderId&&(this.orderId=this.$route.params.orderId,this.getDetail())}},mounted:function(){this.getDetail()},methods:Hr({},Object(k["b"])({getOrderDetailData:"getOrderDetailData"}),{handleDeliverGoods:function(){this.$refs.goodsDom.visible=!0,this.$refs.goodsDom.orderId=this.orderDetailData.orderId},handleDeliverUrgent:function(){this.$refs.urgentApply.visible=!0},getDetail:function(){this.getOrderDetailData({orderId:this.orderId})},handleUpdateDelivery:function(){this.$refs.updateDelivery.visible=!0},handleLookLogs:function(){this.$refs.orderLogsDom.drawer=!0,this.$refs.orderLogsDom.orderId=this.orderId},handleOrderClose:function(){var e=this;this.$confirm("您确定要关闭这个订单吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(N["K"])({orderId:e.orderId}).then((function(t){200===t.code&&t.success?(e.$message.success("操作成功"),e.getOrderDetailData({orderId:e.orderId})):e.$message.warning("操作失败")}))}))},handleChangePrice:function(){this.$router.push({path:"/order/price/alter/".concat(this.$route.params.orderId)})},handleUrgentPass:function(){this.$refs.urgentConfirm.visible=!0,this.$refs.urgentConfirm.isConfirm=!0},handleUrgentBack:function(){this.$refs.urgentConfirm.visible=!0,this.$refs.urgentConfirm.isConfirm=!1},handleAddFee:function(){this.$refs.cost.handleAddFee()}})},ea=Zr,ta=(r("134a"),Object(S["a"])(ea,a,o,!1,null,"a69406b6",null));t["default"]=ta.exports},"06c6":function(e,t,r){},"0774":function(e,t,r){"use strict";var a=r("76fd"),o=r.n(a);o.a},"0810":function(e,t,r){},"10f4":function(e,t,r){"use strict";var a=r("48fc"),o=r.n(a);o.a},"134a":function(e,t,r){"use strict";var a=r("f887"),o=r.n(a);o.a},"14c8":function(e,t,r){"use strict";var a=r("363f"),o=r.n(a);o.a},"193a":function(e,t,r){e.exports=r.p+"static/img/step10.89b24b13.jpg"},"208d":function(e,t,r){},2591:function(e,t,r){e.exports=r.p+"static/img/step4.90249b50.jpg"},"281d":function(e,t,r){},"2edd":function(e,t,r){e.exports=r.p+"static/img/o-urgent.47c1b0aa.jpg"},"2fff":function(e,t,r){},3162:function(e,t,r){},"363f":function(e,t,r){},"36a0":function(e,t,r){e.exports=r.p+"static/img/o-supply.d2fdc9c8.jpg"},"404f":function(e,t,r){e.exports=r.p+"static/img/step2.6d17a6e6.jpg"},"47fd":function(e,t,r){"use strict";var a={scrollPanel:{scrollingX:!1},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"#ccc",scrollingX:!1,initialScrollX:!1,size:"5px"},rail:{}};t["a"]=a},"48fc":function(e,t,r){},5276:function(e,t,r){e.exports=r.p+"static/img/step1.070fea62.jpg"},5361:function(e,t,r){e.exports=r.p+"static/img/step6.6de4350d.jpg"},"55f2":function(e,t,r){"use strict";var a=r("0810"),o=r.n(a);o.a},"62a3":function(e,t,r){e.exports=r.p+"static/img/step8.8b32f11c.jpg"},6394:function(e,t,r){},"68cc":function(e,t,r){"use strict";var a=r("8ede"),o=r.n(a);o.a},"68f0":function(e,t,r){"use strict";var a=r("7e18"),o=r.n(a);o.a},"6d1c":function(e,t,r){e.exports=r.p+"static/img/o-original.277a9534.jpg"},7555:function(e,t,r){},"76fd":function(e,t,r){},"7e18":function(e,t,r){},"81e94":function(e,t,r){"use strict";var a=r("281d"),o=r.n(a);o.a},"8ede":function(e,t,r){},9118:function(e,t,r){},9242:function(e,t,r){"use strict";var a=r("2fff"),o=r.n(a);o.a},"9b2b":function(e,t,r){"use strict";var a=r("9118"),o=r.n(a);o.a},"9b2d":function(e,t,r){"use strict";var a=r("3162"),o=r.n(a);o.a},"9eac":function(e,t,r){e.exports=r.p+"static/img/step5.274a9a78.jpg"},a46b:function(e,t,r){"use strict";var a=r("208d"),o=r.n(a);o.a},b562:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n}));var a=r("b775");function o(e){return Object(a["a"])({url:"/areaCode/list",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/upload/uploadFile",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/upload/deleteFile",method:"delete",params:e})}function n(e){return Object(a["a"])({url:"/dict/list",method:"get",params:e})}},c289:function(e,t,r){e.exports=r.p+"static/img/o-sample.a0ffa41d.jpg"},c93e:function(e,t,r){"use strict";var a=r("6394"),o=r.n(a);o.a},caea:function(e,t,r){e.exports=r.p+"static/img/step3.c0150e4e.jpg"},cbd7:function(e,t,r){"use strict";var a=r("7555"),o=r.n(a);o.a},d9f2:function(e,t,r){"use strict";var a={INIT:[{code:1e3,status:"订单初始"}],DESIGN:[{code:1001,status:"设计图待提交"},{code:1101,status:"待翻图"}],FIRST_TRIAL:[{code:2001,status:"初审待认领"},{code:2021,status:"初审审核中"},{code:2999,status:"初审通过"},{code:2998,status:"初审不通过"}],FINAL_TRIAL:[{code:3001,status:"终审待认领"},{code:3021,status:"终审审核中"},{code:3999,status:"终审通过"},{code:3998,status:"终审不通过"}],PRICING:[{code:4001,status:"待核价"},{code:4021,status:"待核价确认"},{code:4901,status:"待扣款"},{code:4999,status:"已扣款"}],PRODUCTION:[{code:5201,status:"待生产"},{code:5301,status:"生产中"}],WAREHOUSE:[{code:6001,status:"待入库"}],SEND:[{code:7001,status:"待确认发货计划"},{code:8001,status:"待发货"}],RECEIVE:[{code:9001,status:"待签收"},{code:9888,status:"已签收"},{code:9999,status:"异常关闭"}]};t["a"]=a},defb:function(e,t,r){},e0ca:function(e,t,r){"use strict";var a=r("06c6"),o=r.n(a);o.a},eaa8:function(e,t,r){e.exports=r.p+"static/img/step9.b9e96448.jpg"},f1e6:function(e,t,r){},f548:function(e,t,r){"use strict";var a=r("f1e6"),o=r.n(a);o.a},f6b4c:function(e,t,r){e.exports=r.p+"static/img/o-standard.87ba40a0.jpg"},f887:function(e,t,r){}}]);