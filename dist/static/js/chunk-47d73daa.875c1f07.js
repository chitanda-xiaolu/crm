(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47d73daa"],{"12ba":function(t,e,a){"use strict";var r=a("6722"),o=a.n(r);o.a},"1a96":function(t,e,a){"use strict";var r=a("cbe6"),o=a.n(r);o.a},"247d":function(t,e,a){"use strict";var r=a("bcab"),o=a("fa7d"),n={store:{key:"store",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].store.update.code)}}]},business:{key:"bussiness-notice",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].businessNotice.update.code)}}]},system:{key:"system-notice",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].systemNotice.update.code)}}]},activity:{key:"activity",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].marketActivity.update.code)}}]},staff:{key:"staff",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].user.update.code)}},{id:2,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(o["g"])(r["a"].user.reset.code)}},{id:3,title:"绑定酷家乐",icon:"el-icon-connection",type:"bind",isShow:function(){return Object(o["g"])(r["a"].user.bindKjl.code)}}]},help:{key:"help",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].help.update.code)}}]},menu:{key:"menu",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(o["g"])(r["a"].menu.update.code)}}]},account:{key:"account",btns:[{id:1,title:"现金充值",icon:"el-icon-medal-1",type:"cash",isShow:function(){return Object(o["g"])(r["a"].account.recharge_add.code)}},{id:2,title:"返利充值",type:"fanli",icon:"el-icon-medal",isShow:function(){return Object(o["g"])(r["a"].account.recharge_add.code)}}]},distributorDetail:{key:"dept-distributor",btns:[{id:1,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(o["g"])(r["a"].user.reset.code)}},{id:2,title:"绑定酷家乐",icon:"el-icon-connection",type:"bind",isShow:function(){return Object(o["g"])(r["a"].user.bindKjl.code)}}]},deptAccount:{key:"dept-account",btns:[{id:1,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(o["g"])(r["a"].user.reset.code)}}]},order:{key:"order",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"editCad",isShow:function(t){return 1001===t.status&&20===t.orderWay}},{id:2,title:"初审认领",icon:"el-icon-circle-check",type:"claim",isShow:function(t){return Object(o["g"])(r["a"].order.hq_claim.code)&&2001===t.status}},{id:3,title:"终审认领",icon:"el-icon-circle-check",type:"finishClaim",isShow:function(t){return Object(o["g"])(r["a"].order.hq_claim_final.code)&&3001===t.status}},{id:4,title:"改价确认",icon:"el-icon-success",type:"changePrice",isShow:function(t){return Object(o["g"])(r["a"].price.modify_confirm.code)&&4001===t.status}},{id:5,title:"翻图驳回",icon:"el-icon-refresh-left",type:"rebackCad",isShow:function(t){return Object(o["g"])(r["a"].order.cad_reject.code)&&1101===t.status}}]},product:{key:"product",btns:[{id:1,title:"编辑",type:"edit",icon:"el-icon-edit",isShow:function(t){return Object(o["g"])(r["a"].product.edit.code)}}]}};e["a"]=n},"2c21":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"dataForm",staticClass:"padding-top-14",attrs:{"label-position":t.labelPosition,"label-width":t.labelWidth||"100px",model:t.dataForm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchList()}}},[a("div",{staticClass:"search-box"},t._l(t.showList,(function(e,r){return a("el-form-item",{key:r,class:{"order-length-date":e.date,"order-length-deduction":e.deduction,"order-length-type":e.orderType,"order-length-stage":e.stage,"order-length-claim":e.claim,"order-length-finish-claim":e.finishClaim,"order-length-mmodify-price":e.modifyPrice},attrs:{label:e.label+":","label-width":e.width,prop:""+e.code}},["input"===e.type?a("el-input",{attrs:{clearable:!0,placeholder:"请输入"+e.label+(e.extralabel||"")},model:{value:t.dataForm[e.code],callback:function(a){t.$set(t.dataForm,e.code,a)},expression:"dataForm[item.code]"}}):t._e(),"date"===e.type?a("el-date-picker",{attrs:{type:e.flag?"date":"daterange","value-format":"yyyy-MM-dd",placeholder:e.flag?"请选择日期":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dataForm[e.code],callback:function(a){t.$set(t.dataForm,e.code,a)},expression:"dataForm[item.code]"}}):t._e(),"radio"===e.type?t._l(e.radioType,(function(r,o){return a("el-radio",{key:o,attrs:{label:r.value},model:{value:t.dataForm[e.code],callback:function(a){t.$set(t.dataForm,e.code,a)},expression:"dataForm[item.code]"}},[t._v(t._s(r.name))])})):t._e(),"select"===e.type?[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.dataForm[e.code],callback:function(a){t.$set(t.dataForm,e.code,a)},expression:"dataForm[item.code]"}},t._l(e.selectList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})})),1)]:t._e(),"cascader"===e.type?[a("el-cascader",{staticStyle:{width:"100%"},attrs:{"change-on-select":"",clearable:"",placeholder:"请选择产品",options:e.cascaderList,filterable:""},model:{value:t.dataForm[e.code],callback:function(a){t.$set(t.dataForm,e.code,a)},expression:"dataForm[item.code]"}})]:t._e(),"areaselect"===e.type?[a("area-select",{attrs:{isselectAll:!0,isOrder:!0}})]:t._e(),t.hiddenInput?a("input",{staticStyle:{display:"none"},attrs:{id:"hiddenText",type:"text"}}):t._e(),"area"===e.type?a("area-select"):t._e()],2)})),1),a("el-form-item",{staticClass:"search-btns"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.searchList()}}},[t._v("查询")]),a("el-button",{on:{click:function(e){return t.resetForm()}}},[t._v("重置")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.formList.length>7,expression:"formList.length >7"}],staticClass:"show-more",on:{click:function(e){t.showAll=!t.showAll}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:1==t.openOrclose,expression:"openOrclose == 1"}],staticClass:"iconfont icon-zhankai"},[a("span",{staticClass:"iconfont-label"},[t._v("展开")])]),a("i",{directives:[{name:"show",rawName:"v-show",value:1!==t.openOrclose,expression:"openOrclose !== 1"}],staticClass:"iconfont icon-open"},[a("span",{staticClass:"iconfont-label"},[t._v("收起")])])])],1)],1)},o=[],n=(a("8e6e"),a("cadf"),a("456d"),a("ac6a"),a("bd86")),i=(a("7f7f"),a("2f62")),c=a("1f87");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{AreaSelect:c["a"]},props:["labelWidth"],data:function(){return{key:this.$route.name,labelPosition:"right",dataForm:{},hiddenInput:!1,showAll:!1,formList:[]}},computed:l({},Object(i["d"])({queryData:"queryCondition"}),{openOrclose:function(){return this.showAll?2:1},showList:function(){if(this.showAll)return this.formList;var t=[];if(this.formList.length>7)for(var e=0;e<6;e++)t.push(this.formList[e]);else t=this.formList;return t}}),mounted:function(){var t={},e=0;this.formList=this.queryData.query[this.key].dataForm,this.formList.forEach((function(a){t[a.code]=a.value||a.default||"","input"===a.type&&e++})),1===e&&(this.hiddenInput=!0),this.dataForm=t},methods:l({},Object(i["c"])({setQuerys:"SET_QUERYS",setCurrent:"SET_PAGINATION_CURRENT",setCodeList:"SET_CODE_LIST"}),{searchList:function(){var t={key:this.key,current:1};this.setCurrent(t),this.setQuerys({key:this.key,query:this.dataForm}),this.$parent.getDataList()},resetForm:function(){var t=this;t.formList.forEach((function(e){e.value=e.default||"",t.dataForm[e.code]=e.default||""})),t.setCodeList(),t.setQuerys({key:t.key,query:t.dataForm})}})},u=d,p=(a("12ba"),a("2877")),f=Object(p["a"])(u,r,o,!1,null,"2de32179",null);e["a"]=f.exports},"31f2":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新增打款账号","close-on-click-modal":!1,visible:t.visible,"destroy-on-close":!0,"append-to-body":!0,"modal-append-to-body":!1,width:"45%"},on:{"update:visible":function(e){t.visible=e},open:function(e){return t.showModal()}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"账号类型：",prop:"accountType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请选择"},model:{value:t.dataForm.accountType,callback:function(e){t.$set(t.dataForm,"accountType",e)},expression:"dataForm.accountType"}},t._l(t.accountList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.dictName,value:t.dictCode}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"持有者：",prop:"accountHolder"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:t.dataForm.accountHolder,callback:function(e){t.$set(t.dataForm,"accountHolder",e)},expression:"dataForm.accountHolder"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"账号：",prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},on:{blur:t.checkCard},model:{value:t.dataForm.account,callback:function(e){t.$set(t.dataForm,"account",e)},expression:"dataForm.account"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"对公类型：",size:"mini",prop:"corporateType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请选择"},model:{value:t.dataForm.corporateType,callback:function(e){t.$set(t.dataForm,"corporateType",e)},expression:"dataForm.corporateType"}},t._l(t.corporateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.dictName,value:t.dictCode}})})),1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("cadf"),a("456d"),a("bd86")),i=a("fa7d"),c=a("2f62"),s=a("5723");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={data:function(){return{visible:!1,accountList:[],corporateList:[],dataForm:{accountType:"",accountHolder:"",account:"",corporateType:""},distributorId:"",dataRule:{accountType:[{required:!0,message:"账号类型不能为空",trigger:"blur"}],accountHolder:[{required:!0,message:"持有者不能为空",trigger:"blur"}],account:[{required:!0,message:"账号不能为空",trigger:"blur"}],corporateType:[{required:!0,message:"对公类型不能为空",trigger:"blur"}]}}},mounted:function(){this.getAccountType(),this.getCorporateType()},methods:d({},Object(c["b"])({paymentAccountData:"paymentAccountData"}),{init:function(t){this.visible=!0,this.isMax=!1,this.distributorId=t},getAccountType:function(){var t=this;Object(s["i"])({dictTypeCode:"payment_account_type"}).then((function(e){200===e.code&&e.success&&(t.accountList=e.data)}))},checkCard:function(){},getCorporateType:function(){var t=this;Object(s["i"])({dictTypeCode:"corporate_type"}).then((function(e){200===e.code&&e.success&&(t.corporateList=e.data)}))},showModal:function(){this.dataForm={accountType:"",accountHolder:"",account:"",corporateType:""}},dataFormSubmit:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var a=t,r=Object(i["e"])(a.dataForm);r.distributorId=a.distributorId,Object(s["f"])(r).then((function(t){200===t.code&&t.success&&(a.$message.success("新增成功"),a.visible=!1,a.paymentAccountData({distributorId:a.distributorId}))}))}}))}})},p=u,f=(a("1a96"),a("2877")),b=Object(f["a"])(p,r,o,!1,null,"203ba639",null);e["a"]=b.exports},"3e1f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-box dis-flex-col"},[a("form-module"),a("best-tables",{attrs:{"data-list":t.account.accountPageList,specialClass:t.specialClass,optBtnList:this.optBtnList(),total:t.account.accountPageTotal},on:{optThisRow:t.optThisRow}}),a("add-charge",{ref:"addChargeDom"}),a("add-rebate",{ref:"addRebateDom"}),a("add-account-number",{ref:"addaccountnumberDom"})],1)},o=[],n=(a("8e6e"),a("ac6a"),a("cadf"),a("456d"),a("bd86")),i=(a("7f7f"),a("2f62")),c=a("184e"),s=a("5723"),l=a("2c21"),d=a("fa7d"),u=a("cd63"),p=a("50e8"),f=a("31f2"),b=a("247d");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={name:"account",components:{BestTables:c["a"],FormModule:l["a"],addCharge:u["a"],addRebate:p["a"],AddAccountNumber:f["a"]},data:function(){var t=this;return{key:t.$route.name,dataForm:{activityName:"",activityStatus:"0"},specialClass:{className:"invalid-row",id:"activityStatusName",value:"无效"}}},computed:m({},Object(i["d"])({queryData:"queryCondition",account:"account"})),mounted:function(){this.getDataList()},methods:m({},Object(i["b"])({accountPageData:"accountPageData"}),{optBtnList:function(){return b["a"].account.btns},optThisRow:function(t,e){switch(e){case"cash":this.cashHandle(t);break;case"fanli":this.rechargeHandle(t);break}},tableRowClassName:function(t){var e=t.row,a=1===e.activityStatus?"invalid-row":"";return a},getDataList:function(){var t=Object(d["k"])(this.queryData.query[this.key].pagination,Object(d["l"])(this.queryData.query[this.key].dataForm));this.accountPageData(t)},tableSizeChange:function(){this.getDataList()},tableCurrentChange:function(){this.getDataList()},cashHandle:function(t){var e=this;Object(s["m"])({distributorId:t.distributorId}).then((function(a){200===a.code&&a.success&&(a.data.length?(e.$refs.addChargeDom.visible=!0,e.$nextTick((function(){e.$refs.addChargeDom.init(t.distributorId,t.id)}))):e.$confirm("暂无可用充值的账号，请先创建充值账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.addaccountnumberDom.visible=!0,e.$nextTick((function(){e.$refs.addaccountnumberDom.init(t.distributorId)}))})))}))},rechargeHandle:function(t){var e=this;this.$refs.addRebateDom.visible=!0,this.$nextTick((function(){e.$refs.addRebateDom.init(t.distributorId,t.id)}))}})},g=y,v=(a("3fd6"),a("2877")),O=Object(v["a"])(g,r,o,!1,null,"b90a2e74",null);e["default"]=O.exports},"3fd6":function(t,e,a){"use strict";var r=a("c63b"),o=a.n(r);o.a},"61f7":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return c})),a.d(e,"c",(function(){return s}));a("a481");function r(t,e,a){/^[0-9]{11}$/.test(e)?a():a(new Error("请输入正确的手机号"))}function o(t,e,a){/^([1-9]\d*|0)(\.\d*[0-9])?$/.test(e)?a():a(new Error("请输入正数"))}function n(t,e,a){parseFloat(e)>0?a():a(new Error("请输入正数"))}function i(t){var e={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"',"#40":"(","#41":")"};return t&&t.replace(/&(lt|gt|nbsp|amp|quot|#40|#41);/gi,(function(t,a){return e[a]}))}function c(t){var e=new Date(t),a=e.getFullYear()+"-",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",o=e.getDate()<10?"0"+e.getDate():e.getDate(),n=a+r+o;return n}function s(t){var e=t.substring(0,19);e=e.replace(/-/g,"/");var a=new Date(e).getTime();return a}},6722:function(t,e,a){},c63b:function(t,e,a){},cbe6:function(t,e,a){}}]);