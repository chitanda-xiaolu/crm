(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d27916a2"],{"174b":function(e,t,r){},8168:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"确认改价",visible:e.changePriceDialogVisible,"append-to-body":!0,"modal-append-to-body":!1,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.changePriceDialogVisible=t},open:e.getPriceDetail}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"170px"}},[r("el-form-item",{attrs:{label:"计划交付(发货)日期：",prop:"estimatedDeliveryTime"}},[r("el-row",[r("el-col",{attrs:{span:10}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.form.estimatedDeliveryTime,callback:function(t){e.$set(e.form,"estimatedDeliveryTime",t)},expression:"form.estimatedDeliveryTime"}})],1),r("el-col",{attrs:{span:8}},[r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("div",{staticClass:"popover-box"},[r("el-divider",{attrs:{"content-position":"center"}},[e._v("产品费用")]),r("p",[e._v("\n                                理论结算价格："+e._s(e.priceDetail.nominalSettlementPrice)+" 元\n                            ")]),r("p",[e._v("\n                                实际结算价格："+e._s(e.priceDetail.finalSettlementPrice)+" 元\n                            ")]),e.priceDetail.cadFee||e.priceDetail.urgentFee?r("el-divider",{attrs:{"content-position":"center"}},[e._v("其它费用")]):e._e(),e.priceDetail.cadFee?r("p",[e._v("\n                                翻图费："+e._s(e.priceDetail.cadFee)+" 元\n                            ")]):e._e(),e.priceDetail.urgentFee?r("p",[e._v("\n                                加急费："+e._s(e.priceDetail.urgentFee)+" 元\n                            ")]):e._e(),r("el-divider",{attrs:{"content-position":"center"}},[e._v("合计")]),r("p",[e._v("\n                                本次合计扣款："+e._s(e.priceDetail.total)+" 元\n                            ")]),r("el-divider",{attrs:{"content-position":"center"}},[e._v("经销商账户余额")]),r("p",[e._v("\n                                现金余额："+e._s(e.priceDetail.cashTotal)+" 元\n                            ")]),r("p",[e._v("\n                                返利余额："+e._s(e.priceDetail.rebateTotal)+" 元\n                            ")])],1),r("el-button",{staticStyle:{"margin-left":"15px"},attrs:{slot:"reference",type:"info",icon:"el-icon-money"},slot:"reference"},[e._v("查看费用")])],1)],1)],1)],1),r("el-form-item",{attrs:{label:"改价说明：",prop:"modifyPriceRemark"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.modifyPriceRemark,callback:function(t){e.$set(e.form,"modifyPriceRemark",t)},expression:"form.modifyPriceRemark"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitPrice}},[e._v("确定")])],1)],1)},o=[],a=(r("8e6e"),r("ac6a"),r("cadf"),r("456d"),r("96cf"),r("3b8d")),n=r("bd86"),s=r("f8b7"),c=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"changePriceDialog",data:function(){return{changePriceDialogVisible:!1,orderId:this.$route.params.orderId,form:{estimatedDeliveryTime:"",orderId:this.$route.params.orderId,modifyPriceRemark:""},rules:{estimatedDeliveryTime:[{required:!0,message:"请输入交付日期",trigger:"change"}],modifyPriceRemark:[{required:!0,message:"请输入改价说明",trigger:"blur"}]},priceDetail:{cadFee:0,finalSettlementPrice:0,nominalSettlementPrice:0,total:0,urgentFee:0,cashTotal:0,rebateTotal:0},lockTime:""}},computed:{pickerOptions:function(){var e=this;return{disabledDate:function(t){return t.getTime()<(new Date(e.lockTime).getTime()-864e5||Date.now())}}}},methods:d({},Object(c["b"])({getOrderDetailData:"getOrderDetailData"}),{getPriceDetail:function(){var e=this;Object(s["Q"])({orderId:this.orderId}).then((function(t){for(var r in e.priceDetail)e.priceDetail[r]=t.data[r];e.form.estimatedDeliveryTime=e.lockTime=t.data.estimatedDeliveryTime}))},submitPrice:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(s["eb"])(e.form).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==r.code||!r.success){t.next=7;break}return e.$message.success("改价确认成功"),e.changePriceDialogVisible=!1,t.next=5,Object(s["M"])({orderId:e.orderId}).then((function(t){200===t.code&&t.success&&(e.$message.success("提交Ishare订单数据成功"),e.$router.push("/order/detail/".concat(e.orderId)))}));case 5:t.next=8;break;case 7:e.changePriceDialogVisible=!1;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){e.getOrderDetailData({orderId:e.orderId})}))}))}})},p=u,m=(r("bb01"),r("2877")),f=Object(m["a"])(p,i,o,!1,null,"51965e6f",null);t["a"]=f.exports},8368:function(e,t,r){},bb01:function(e,t,r){"use strict";var i=r("174b"),o=r.n(i);o.a},d87c:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-box dis-flex-row"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wrapper"},[r("h2",[e._v("订单改价明细表")]),e.orderDetailData.status===e.ORDER_STATUS.PRICING[0]["code"]&&e.hasPermission(e.Permission.price.modify_confirm.code)?r("el-button",{staticClass:"btn-link",attrs:{icon:"el-icon-circle-check",size:"mini",type:"success"},on:{click:e.showPriceDialog}},[e._v("改价确认")]):e._e(),e.orderDetailData.status===e.ORDER_STATUS.PRICING[2]["code"]&&e.hasPermission(e.Permission.price.price_deduct.code)?r("el-button",{staticClass:"btn-link",attrs:{icon:"el-icon-thumb",size:"mini",type:"danger"},on:{click:e.updatePrice}},[e._v("手动扣款")]):e._e(),e.orderDetailData.status===e.ORDER_STATUS.PRICING[3]["code"]?r("el-button",{staticClass:"btn-link",attrs:{icon:"el-icon-thumb",size:"mini",type:"warning"},on:{click:e.updateMes}},[e._v("手动更新MES")]):e._e(),r("el-row",{staticStyle:{padding:"10px 0","border-bottom":"1px solid #ccc"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label title"},[e._v("订单号:")]),e._v(e._s(e.orderDetailData.orderCode))]),r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label title"},[e._v("部门名称:")]),e._v(e._s(e.orderDetailData.storeName))]),r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label title"},[e._v("提交初审时间:")]),e._v(e._s(e.DWY_UTILS.getTimeYMD(e.firstAuditSubmitTime)))])],1),e.productionList.length?r("div",{staticClass:"table-box"},[r("el-tabs",{staticClass:"tab-content",attrs:{type:"border-card"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.productionList,(function(t,i){return r("el-tab-pane",{key:i,attrs:{name:"tab"+i}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(t.auditName)+" ")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("span",{staticClass:"padding-label"},[e._v("生产单号:")]),e._v(" "+e._s(t.productionOrderCode))]),e.cache.index===i?r("el-col",{attrs:{span:4}},[r("el-input",{attrs:{placeholder:"请输入折扣",placement:"top",type:"number",clearable:""},on:{change:function(t){return e.discountFormat(t,i)}},model:{value:t.discount,callback:function(r){e.$set(t,"discount",r)},expression:"ele.discount"}})],1):e._e(),r("el-col",{attrs:{span:8}},[e.orderDetailData.status===e.ORDER_STATUS.PRICING[0]["code"]&&e.cache.index!==i&&e.hasPermission(e.Permission.price.production_modify.code)?r("el-button",{attrs:{icon:"el-icon-edit",type:"warning",plain:""},on:{click:function(t){return e.showInput(i)}}},[e._v("改价")]):e._e(),e.cache.index===i?r("el-button",{attrs:{icon:"el-icon-document-checked",type:"success",plain:""},on:{click:function(t){return e.savePrice(i)}}},[e._v("确认")]):e._e(),e.cache.index===i?r("el-button",{attrs:{icon:"el-icon-delete",type:"defalut",plain:""},on:{click:function(t){return e.cancelInput(i)}}},[e._v("取消")]):e._e()],1)],1),r("el-row",{staticStyle:{padding:"15px 0"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label"},[e._v("总金额(零售价):")]),e._v(" ￥ "+e._s(e.renderMoney(t.retailPrice))+" 元")]),r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label"},[e._v("理论结算价:")]),e._v(" ￥ "+e._s(e.renderMoney(t.nominalSettlementPrice))+" 元")]),r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label"},[e._v("结算系数(折扣):")]),e._v(" "+e._s(e.renderMoney(t.discount)))]),r("el-col",{attrs:{span:6}},[r("span",{staticClass:"padding-label"},[e._v("实际结算价:")]),e._v(" ￥ "+e._s(e.renderMoney(t.finalSettlementPrice))+" 元")])],1),r("el-table",{attrs:{data:e.tableData,"row-key":"id","span-method":e.objectSpanMethod,"tree-props":{children:"orderOfferList",hasChildren:!0},border:"","default-expand-all":""}},e._l(e.columnData,(function(t,i){return r("el-table-column",{key:i,attrs:{width:t.width,label:t.label},scopedSlots:e._u([{key:"default",fn:function(i){return[t.operation?e.orderDetailData.status!==e.ORDER_STATUS.PRICING[0]["code"]||i.row["subtotal"]?e._e():r("span",[e.hasPermission(e.Permission.price.detail_modify.code)?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(t){return e.editPriceRow(i.row)}}},[e._v("改价")]):e._e(),e.hasPermission(e.Permission.price.order_price_invalid.code)?r("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(t){return e.invalidPriceRow(i.row)}}},[e._v("作废")]):e._e()],1):r("span",[e._v("\n                                    "+e._s(i.row[t.prop])+"\n                                ")])]}}],null,!0)})})),1)],1)})),1)],1):r("p",{staticClass:"p-nodata"},[e._v("暂无数据")])],1),r("prod-change-price-dialog",{ref:"prodChangePriceDialog",attrs:{prodData:e.prodData},on:{getDataList:e.getDataList}}),r("change-price-dialog",{ref:"changePriceDialog"}),r("row-price-dialog",{ref:"rowPriceDialog",attrs:{row:e.rowData},on:{getDataList:e.getDataList}})],1)},o=[],a=(r("8e6e"),r("cadf"),r("456d"),r("96cf"),r("3b8d")),n=(r("ac6a"),r("bd86")),s=r("f8b7"),c=r("d9f2"),l=r("8168"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"生产单改价",visible:e.prodPriceDialogVisible,"append-to-body":!0,"modal-append-to-body":!1,"destroy-on-close":!0,width:"30%"},on:{"update:visible":function(t){e.prodPriceDialogVisible=t},open:e.handleOpenDialog}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"改价系数：",prop:"discount"}},[r("el-input",{attrs:{placeholder:"请输入改价系数",placement:"top",type:"number"},on:{input:function(t){return e.computePrice(e.form.discount)}},model:{value:e.form.discount,callback:function(t){e.$set(e.form,"discount",t)},expression:"form.discount"}})],1),r("el-form-item",{attrs:{label:"结算价："}},[r("span",[e._v(e._s(e.renderMoney(e.form.price.toFixed(2)))+" 元")])]),r("el-form-item",{attrs:{label:"改价说明：",prop:"remark"}},[r("el-input",{attrs:{placeholder:"请输入生产单改价说明",placement:"top",type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitPrice}},[e._v("确定")])],1)],1)},u=[],p={props:["prodData"],name:"prodChangePriceDialog",data:function(){return{prodPriceDialogVisible:!1,orderId:this.$route.params.orderId,rules:{discount:[{required:!0,message:"折扣系数不能为空",trigger:"blur"}],remark:[{required:!0,message:"改价说明不能为空",trigger:"blur"}]},form:{discount:1,remark:"",price:0}}},methods:{submitPrice:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var r=[{productionOrderId:e.prodData.productionOrderId,discount:e.form.discount,modifyPriceRemark:e.form.remark,finalSettlementPrice:(e.form.price*e.form.discount).toFixed(2)}],i={productionModifyPrices:JSON.stringify(r),orderId:e.$route.params.orderId};Object(s["lb"])(i).then((function(t){e.$message.success("修改成功"),e.prodPriceDialogVisible=!1,e.$emit("getDataList")}))}}))},computePrice:function(e){this.form.discount=parseFloat(e),isNaN(this.form.discount)?this.form.price=0:this.form.price=parseFloat(e)*this.prodData.nominalSettlementPrice},handleOpenDialog:function(){this.form.discount=this.prodData.discount,this.form.price=this.prodData.finalSettlementPrice,this.form.remark=this.prodData.modifyPriceRemark}}},m=p,f=r("2877"),b=Object(f["a"])(m,d,u,!1,null,null,null),h=b.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"行改价",visible:e.rowPriceDialogVisible,"append-to-body":!0,"modal-append-to-body":!1,width:"30%"},on:{"update:visible":function(t){e.rowPriceDialogVisible=t}}},[r("el-form",{ref:"form",attrs:{rules:e.rules,"label-width":"60px"}},[r("el-form-item",{attrs:{label:"改价：",prop:"discount"}},[r("el-input",{attrs:{placeholder:"请输入改价系数",placement:"top",type:"number"},on:{change:function(t){return e.discountFormat(e.form.discount)}},model:{value:e.form.discount,callback:function(t){e.$set(e.form,"discount",t)},expression:"form.discount"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitRowPrice}},[e._v("确定")])],1)],1)},D=[],v=(r("f751"),{props:["row"],name:"rowChangePriceDialog",data:function(){return{rowPriceDialogVisible:!1,orderId:this.$route.params.orderId,rules:{modifyPriceRemark:[{required:!0,message:"请输入改价折扣",trigger:"blur"}]},form:""}},methods:{submitRowPrice:function(){var e=this,t=[];t.push({id:this.form.id,discount:this.form.discount});var r={orderId:this.orderId,modifyPrices:JSON.stringify(t)};Object(s["mb"])(r).then((function(t){200===t.code&&t.success?(e.$message.success("修改成功"),e.rowPriceDialogVisible=!1,e.$emit("getDataList")):e.changePriceDialogVisible=!1}))},reciveData:function(e){this.form=Object.assign({},e)},discountFormat:function(e){var t=e||1,r=parseFloat(t);this.form.discount=parseFloat(r.toFixed(2))}}}),P=v,y=Object(f["a"])(P,g,D,!1,null,null,null),_=y.exports,O=r("2f62");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k={components:{changePriceDialog:l["a"],rowPriceDialog:_,prodChangePriceDialog:h},data:function(){return{activeName:"tab0",loading:!1,orderId:this.$route.params.orderId,firstAuditSubmitTime:"",modifyPriceRemark:"",houseAddress:"",tableData:[],productionList:[],orderCode:"",ORDER_STATUS:c["a"],cache:{discount:1,index:""},columnData:[{label:"",width:"50"},{prop:"modelName",label:"名称"},{prop:"textureName",label:"材质"},{prop:"width",label:"宽",width:"60px"},{prop:"deep",label:"深",width:"60px"},{prop:"height",label:"高",width:"60px"},{prop:"quotationUnit",label:"单位",width:"70px"},{prop:"quantity",label:"数量",width:"70px"},{prop:"unitCost",label:"成本单价"},{prop:"unitPrice",label:"销售单价"},{prop:"additionalPrice",label:"附加费"},{prop:"nonStandardCoef",label:"价格系数"},{prop:"retailPrice",label:"金额"},{prop:"costPrice",label:"理论结算价"},{prop:"discount",label:"结算折扣"},{prop:"finalSettlementPrice",label:"实际结算价"},{prop:"modelType",label:"型号"},{prop:"productCode",label:"产品编号"},{prop:"color",label:"颜色"},{prop:"standards",label:"规格"},{label:"操作",width:"120",operation:!0}],rowData:"",prodData:""}},mounted:function(){this.getDataList()},computed:I({},Object(O["d"])({orderDetailData:function(e){return e.order.orderDetailData}})),methods:I({},Object(O["b"])({getOrderDetailData:"getOrderDetailData"}),{getPriceDetail:function(e){var t=this;Object(s["F"])({productionOrderId:e}).then((function(e){t.tableData.length=0,e.data&&e.data.forEach((function(e,r){var i;i="成品"===e.productType?t.productTotal(e):t.recursionData(e.orderOfferList),e.orderOfferList.push({id:e.id+r,subtotal:!0,modelName:"小计: 理论结算价: ".concat(i.costPrice," 元 实际结算价: ").concat(i.finalSettlementPrice," 元 金额小计: ").concat(i.retailPrice," 元")}),t.tableData.push(e),t.loading=!1}))}))},getDataList:function(){var e=this,t=this.orderId;this.productionList.length=0,Object(s["E"])({orderId:t}).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.firstAuditSubmitTime=r.data.firstAuditSubmitTime,i=r.data.productionList,i&&i.length){t.next=4;break}return t.abrupt("return");case 4:return e.loading=!0,e.productionList=i,t.next=8,e.getPriceDetail(i[e.activeName.slice(-1)]["productionOrderId"]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},recursionData:function(e){var t=this,r=0,i=0,o=0;if(e||e.length)return e.forEach((function(e,a){r=Math.round(100*r+100*e.retailPrice)/100,i=Math.round(100*i+100*e.costPrice)/100,o=Math.round(100*o+100*e.finalSettlementPrice)/100,e.orderOfferList.length&&(r+=parseFloat(t.recursionData(e.orderOfferList).retailPrice),i+=parseFloat(t.recursionData(e.orderOfferList).costPrice),o+=parseFloat(t.recursionData(e.orderOfferList).finalSettlementPrice))})),{retailPrice:r.toFixed(2),costPrice:i.toFixed(2),finalSettlementPrice:o.toFixed(2)}},updateMes:function(){var e=this;Object(s["M"])({orderId:this.orderId}).then((function(t){200===t.code&&t.success&&e.$message.success("手动提交Ishare订单数据成功")}))},objectSpanMethod:function(e){var t=e.row,r=(e.column,e.rowIndex,e.columnIndex);if(t.subtotal&&1===r)return{rowspan:1,colspan:this.columnData.length}},showPriceDialog:function(){this.$refs.changePriceDialog.changePriceDialogVisible=!0},discountFormat:function(e,t){var r=this.productionList[t].discount||1,i=parseFloat(r);this.productionList[t].discount=parseFloat(i.toFixed(2))},showInput:function(e){this.prodData=this.productionList[e],this.$refs.prodChangePriceDialog.prodPriceDialogVisible=!0},cancelInput:function(e){this.productionList[e].discount=this.cache.discount,this.cache={discount:1,index:""}},handleTabClick:function(e,t){this.getPriceDetail(this.productionList[e.index]["productionOrderId"])},productTotal:function(e){return{retailPrice:e.retailPrice,costPrice:e.costPrice,finalSettlementPrice:e.finalSettlementPrice}},editPriceRow:function(e){this.$refs.rowPriceDialog.rowPriceDialogVisible=!0,this.$refs.rowPriceDialog.reciveData(e)},invalidPriceRow:function(e){var t=this,r={id:e.id};this.$confirm("操作需谨慎，移除后无法恢复?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then((function(){Object(s["P"])(r).then((function(e){200===e.code&&e.success&&(t.$message.success("操作成功"),t.getPriceDetail(t.productionList[t.activeName.slice(-1)]["productionOrderId"]))}))}))},savePrice:function(e){var t=this,r=[{productionOrderId:this.productionList[e].productionOrderId,discount:this.productionList[e].discount,finalSettlementPrice:(this.productionList[e].discount*this.productionList[e].finalSettlementPrice).toFixed(2)}],i={productionModifyPrices:JSON.stringify(r),orderId:this.orderId};Object(s["lb"])(i).then((function(e){200===e.code&&e.success&&(t.$message.success("改价成功"),t.cache={discount:1,index:""},t.getPriceDetail(t.productionList[t.activeName.slice(-1)]["productionOrderId"]))}))},updatePrice:function(){var e=this,t=this.orderId;Object(s["kb"])({orderId:t}).then((function(t){if(200===t.code&&t.success){e.$message.success("手动扣款成功");var r=e.$route.params.orderId;e.getOrderDetailData({orderId:r})}}))}})},x=k,S=(r("d9ee"),Object(f["a"])(x,i,o,!1,null,"4f550d9d",null));t["default"]=S.exports},d9ee:function(e,t,r){"use strict";var i=r("8368"),o=r.n(i);o.a},d9f2:function(e,t,r){"use strict";var i={INIT:[{code:1e3,status:"订单初始"}],DESIGN:[{code:1001,status:"设计图待提交"},{code:1101,status:"待翻图"}],FIRST_TRIAL:[{code:2001,status:"初审待认领"},{code:2021,status:"初审审核中"},{code:2999,status:"初审通过"},{code:2998,status:"初审不通过"}],FINAL_TRIAL:[{code:3001,status:"终审待认领"},{code:3021,status:"终审审核中"},{code:3999,status:"终审通过"},{code:3998,status:"终审不通过"}],PRICING:[{code:4001,status:"待核价"},{code:4021,status:"待核价确认"},{code:4901,status:"待扣款"},{code:4999,status:"已扣款"}],PRODUCTION:[{code:5201,status:"待生产"},{code:5301,status:"生产中"}],WAREHOUSE:[{code:6001,status:"待入库"}],SEND:[{code:7001,status:"待确认发货计划"},{code:8001,status:"待发货"}],RECEIVE:[{code:9001,status:"待签收"},{code:9888,status:"已签收"},{code:9999,status:"异常关闭"}]};t["a"]=i}}]);