(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44e5c0ee"],{"12ba":function(e,t,a){"use strict";var r=a("6722"),i=a.n(r);i.a},"247d":function(e,t,a){"use strict";var r=a("bcab"),i=a("fa7d"),o={store:{key:"store",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].store.update.code)}}]},business:{key:"bussiness-notice",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].businessNotice.update.code)}}]},system:{key:"system-notice",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].systemNotice.update.code)}}]},activity:{key:"activity",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].marketActivity.update.code)}}]},staff:{key:"staff",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].user.update.code)}},{id:2,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(i["g"])(r["a"].user.reset.code)}},{id:3,title:"绑定酷家乐",icon:"el-icon-connection",type:"bind",isShow:function(){return Object(i["g"])(r["a"].user.bindKjl.code)}}]},help:{key:"help",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].help.update.code)}}]},menu:{key:"menu",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(i["g"])(r["a"].menu.update.code)}}]},account:{key:"account",btns:[{id:1,title:"现金充值",icon:"el-icon-medal-1",type:"cash",isShow:function(){return Object(i["g"])(r["a"].account.recharge_add.code)}},{id:2,title:"返利充值",type:"fanli",icon:"el-icon-medal",isShow:function(){return Object(i["g"])(r["a"].account.recharge_add.code)}}]},distributorDetail:{key:"dept-distributor",btns:[{id:1,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(i["g"])(r["a"].user.reset.code)}},{id:2,title:"绑定酷家乐",icon:"el-icon-connection",type:"bind",isShow:function(){return Object(i["g"])(r["a"].user.bindKjl.code)}}]},deptAccount:{key:"dept-account",btns:[{id:1,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(i["g"])(r["a"].user.reset.code)}}]},order:{key:"order",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"editCad",isShow:function(e){return 1001===e.status&&20===e.orderWay}},{id:2,title:"初审认领",icon:"el-icon-circle-check",type:"claim",isShow:function(e){return Object(i["g"])(r["a"].order.hq_claim.code)&&2001===e.status}},{id:3,title:"终审认领",icon:"el-icon-circle-check",type:"finishClaim",isShow:function(e){return Object(i["g"])(r["a"].order.hq_claim_final.code)&&3001===e.status}},{id:4,title:"改价确认",icon:"el-icon-success",type:"changePrice",isShow:function(e){return Object(i["g"])(r["a"].price.modify_confirm.code)&&4001===e.status}},{id:5,title:"翻图驳回",icon:"el-icon-refresh-left",type:"rebackCad",isShow:function(e){return Object(i["g"])(r["a"].order.cad_reject.code)&&1101===e.status}}]},product:{key:"product",btns:[{id:1,title:"编辑",type:"edit",icon:"el-icon-edit",isShow:function(e){return Object(i["g"])(r["a"].product.edit.code)}}]}};t["a"]=o},"2c21":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"dataForm",staticClass:"padding-top-14",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth||"100px",model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchList()}}},[a("div",{staticClass:"search-box"},e._l(e.showList,(function(t,r){return a("el-form-item",{key:r,class:{"order-length-date":t.date,"order-length-deduction":t.deduction,"order-length-type":t.orderType,"order-length-stage":t.stage,"order-length-claim":t.claim,"order-length-finish-claim":t.finishClaim,"order-length-mmodify-price":t.modifyPrice},attrs:{label:t.label+":","label-width":t.width,prop:""+t.code}},["input"===t.type?a("el-input",{attrs:{clearable:!0,placeholder:"请输入"+t.label+(t.extralabel||"")},model:{value:e.dataForm[t.code],callback:function(a){e.$set(e.dataForm,t.code,a)},expression:"dataForm[item.code]"}}):e._e(),"date"===t.type?a("el-date-picker",{attrs:{type:t.flag?"date":"daterange","value-format":"yyyy-MM-dd",placeholder:t.flag?"请选择日期":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dataForm[t.code],callback:function(a){e.$set(e.dataForm,t.code,a)},expression:"dataForm[item.code]"}}):e._e(),"radio"===t.type?e._l(t.radioType,(function(r,i){return a("el-radio",{key:i,attrs:{label:r.value},model:{value:e.dataForm[t.code],callback:function(a){e.$set(e.dataForm,t.code,a)},expression:"dataForm[item.code]"}},[e._v(e._s(r.name))])})):e._e(),"select"===t.type?[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.dataForm[t.code],callback:function(a){e.$set(e.dataForm,t.code,a)},expression:"dataForm[item.code]"}},e._l(t.selectList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.areaName,value:e.id}})})),1)]:e._e(),"cascader"===t.type?[a("el-cascader",{staticStyle:{width:"100%"},attrs:{"change-on-select":"",clearable:"",placeholder:"请选择产品",options:t.cascaderList,filterable:""},model:{value:e.dataForm[t.code],callback:function(a){e.$set(e.dataForm,t.code,a)},expression:"dataForm[item.code]"}})]:e._e(),"areaselect"===t.type?[a("area-select",{attrs:{isselectAll:!0,isOrder:!0}})]:e._e(),e.hiddenInput?a("input",{staticStyle:{display:"none"},attrs:{id:"hiddenText",type:"text"}}):e._e(),"area"===t.type?a("area-select"):e._e()],2)})),1),a("el-form-item",{staticClass:"search-btns"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchList()}}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.formList.length>7,expression:"formList.length >7"}],staticClass:"show-more",on:{click:function(t){e.showAll=!e.showAll}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:1==e.openOrclose,expression:"openOrclose == 1"}],staticClass:"iconfont icon-zhankai"},[a("span",{staticClass:"iconfont-label"},[e._v("展开")])]),a("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.openOrclose,expression:"openOrclose !== 1"}],staticClass:"iconfont icon-open"},[a("span",{staticClass:"iconfont-label"},[e._v("收起")])])])],1)],1)},i=[],o=(a("8e6e"),a("cadf"),a("456d"),a("ac6a"),a("bd86")),n=(a("7f7f"),a("2f62")),s=a("1f87");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={components:{AreaSelect:s["a"]},props:["labelWidth"],data:function(){return{key:this.$route.name,labelPosition:"right",dataForm:{},hiddenInput:!1,showAll:!1,formList:[]}},computed:c({},Object(n["d"])({queryData:"queryCondition"}),{openOrclose:function(){return this.showAll?2:1},showList:function(){if(this.showAll)return this.formList;var e=[];if(this.formList.length>7)for(var t=0;t<6;t++)e.push(this.formList[t]);else e=this.formList;return e}}),mounted:function(){var e={},t=0;this.formList=this.queryData.query[this.key].dataForm,this.formList.forEach((function(a){e[a.code]=a.value||a.default||"","input"===a.type&&t++})),1===t&&(this.hiddenInput=!0),this.dataForm=e},methods:c({},Object(n["c"])({setQuerys:"SET_QUERYS",setCurrent:"SET_PAGINATION_CURRENT",setCodeList:"SET_CODE_LIST"}),{searchList:function(){var e={key:this.key,current:1};this.setCurrent(e),this.setQuerys({key:this.key,query:this.dataForm}),this.$parent.getDataList()},resetForm:function(){var e=this;e.formList.forEach((function(t){t.value=t.default||"",e.dataForm[t.code]=t.default||""})),e.setCodeList(),e.setQuerys({key:e.key,query:e.dataForm})}})},u=d,m=(a("12ba"),a("2877")),p=Object(m["a"])(u,r,i,!1,null,"2de32179",null);t["a"]=p.exports},"5d58":function(e,t,a){e.exports=a("d8d6")},6722:function(e,t,a){},"67bb":function(e,t,a){e.exports=a("f921")},7618:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("5d58"),i=a.n(r),o=a("67bb"),n=a.n(o);function s(e){return s="function"===typeof n.a&&"symbol"===typeof i.a?function(e){return typeof e}:function(e){return e&&"function"===typeof n.a&&e.constructor===n.a&&e!==n.a.prototype?"symbol":typeof e},s(e)}function l(e){return l="function"===typeof n.a&&"symbol"===s(i.a)?function(e){return s(e)}:function(e){return e&&"function"===typeof n.a&&e.constructor===n.a&&e!==n.a.prototype?"symbol":s(e)},l(e)}},"89a0":function(e,t,a){},b957:function(e,t,a){"use strict";var r=a("89a0"),i=a.n(r);i.a},f833:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-box dis-flex-col"},[a("form-module"),e.hasPermission(e.Permission.menu.create.code)?a("div",{staticClass:"opt-btn"},[a("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",icon:"el-icon-plus",type:"primary",plain:""},on:{click:e.addHandle}},[e._v("新增")])],1):e._e(),a("best-tables",{attrs:{"data-list":e.menuData.menuList,childrenName:"children",optBtnList:this.optBtnList(),rowKey:"value"},on:{optThisRow:e.editHandle}}),a("add-or-update-module",{ref:"addUpdateModule",attrs:{editMenu:e.isEdit}})],1)},i=[],o=(a("8e6e"),a("ac6a"),a("cadf"),a("456d"),a("bd86")),n=(a("7f7f"),a("2f62")),s=a("fa7d"),l=a("184e"),c=a("2c21"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"edit"===e.editMenu?"编辑菜单":"新增菜单","close-on-click-modal":!1,visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{staticStyle:{width:"87%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{label:"编号：",prop:"code"}},[a("el-input",{staticStyle:{width:"87%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.dataForm.code,callback:function(t){e.$set(e.dataForm,"code",t)},expression:"dataForm.code"}})],1),a("el-form-item",{attrs:{label:"父级ID：",prop:"pid"}},[a("el-cascader",{staticStyle:{width:"87%"},attrs:{options:e.menuData.menuList,props:{checkStrictly:!0}},model:{value:e.dataForm.pid,callback:function(t){e.$set(e.dataForm,"pid",t)},expression:"dataForm.pid"}})],1),a("el-form-item",{attrs:{label:"请求地址：",prop:"url"}},[a("el-input",{staticStyle:{width:"87%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.dataForm.url,callback:function(t){e.$set(e.dataForm,"url",t)},expression:"dataForm.url"}})],1),a("el-form-item",{attrs:{label:"层级：",prop:"levels"}},[a("el-select",{staticStyle:{width:"87%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.dataForm.levels,callback:function(t){e.$set(e.dataForm,"levels",t)},expression:"dataForm.levels"}},e._l(e.levelList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"排序：",prop:"sort"}},[a("el-input",{staticStyle:{width:"87%"},attrs:{placeholder:"请输入",clearable:"",type:"number"},model:{value:e.dataForm.sort,callback:function(t){e.$set(e.dataForm,"sort",t)},expression:"dataForm.sort"}})],1),a("el-form-item",{attrs:{label:"图标：",prop:"icon"}},[a("el-input",{staticStyle:{width:"87%"},attrs:{placeholder:"请填写class",clearable:""},model:{value:e.dataForm.icon,callback:function(t){e.$set(e.dataForm,"icon",t)},expression:"dataForm.icon"}})],1),a("el-form-item",{attrs:{label:"所属：",size:"mini",prop:"platform"}},[a("el-radio-group",{attrs:{disabled:"edit"===e.editMenu},model:{value:e.dataForm.platform,callback:function(t){e.$set(e.dataForm,"platform",t)},expression:"dataForm.platform"}},[a("el-radio",{attrs:{label:0}},[e._v("平台")]),a("el-radio",{attrs:{label:1}},[e._v("总部")]),a("el-radio",{attrs:{label:2}},[e._v("经销商")])],1)],1),a("el-form-item",{attrs:{label:"状态：",size:"mini",prop:"status"}},[a("el-radio-group",{model:{value:e.dataForm.status,callback:function(t){e.$set(e.dataForm,"status",t)},expression:"dataForm.status"}},[a("el-radio",{attrs:{label:0}},[e._v("有效")]),a("el-radio",{attrs:{label:1}},[e._v("无效")])],1)],1),a("el-form-item",{attrs:{label:"类型：",prop:"menuFlag"}},[a("el-radio-group",{model:{value:e.dataForm.menuFlag,callback:function(t){e.$set(e.dataForm,"menuFlag",t)},expression:"dataForm.menuFlag"}},[a("el-radio",{attrs:{label:!0}},[e._v("菜单")]),a("el-radio",{attrs:{label:!1}},[e._v("按钮")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},u=[],m=a("7618"),p=a("1f27");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={data:function(){return{visible:!1,dataForm:{menuId:"",code:"",name:"",pid:"",url:"",levels:"",menuFlag:!0,status:0,sort:"",icon:"",platform:0},levelList:[{value:"1",label:"一级"},{value:"2",label:"二级"},{value:"3",label:"三级"}],dataRule:{code:[{required:!0,message:"编号不能为空",trigger:"blur"}],name:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],url:[{required:!0,message:"url不能为空",trigger:"blur"}],levels:[{required:!0,message:"层级不能为空",trigger:"blur"}],menuFlag:[{required:!0,message:"类型不能为空",trigger:"blur"}],status:[{required:!0,message:"部门状态不能为空",trigger:"blur"}],platform:[{required:!0,message:"所属不能为空",trigger:"blur"}]}}},props:["editMenu"],computed:b({},Object(n["d"])({menuData:"menu"})),methods:b({},Object(n["b"])({getMenuList:"menuManageList"}),{dataFormSubmit:function(){var e=this,t=Object(s["e"])(this.dataForm);"object"===Object(m["a"])(t.pid)&&(t.pid=t.pid[t.pid.length-1]),this.$refs["dataForm"].validate((function(a){a&&("edit"===e.editMenu?Object(p["b"])(t).then((function(){e.$message.success("编辑成功"),e.getMenuList(),e.visible=!1})):Object(p["a"])(t).then((function(t){200===t.code&&t.success?(e.$message.success("新增成功"),e.getMenuList(),e.visible=!1):e.$message.error("新增失败")})))})),this.$emit("whichPlatform",this.dataForm.platform)},toggleDialog:function(e){if(e){for(var t in this.dataForm)this.dataForm[t]=e[t];this.dataForm.name=e.label,this.dataForm.pid=e.parentId,this.dataForm.menuId=e.nodeId}else{for(var a in this.dataForm)this.dataForm[a]="";this.dataForm.status=0,this.dataForm.menuFlag=!0,this.dataForm.platform=0}this.visible=!this.visible},hendleChangeCascader:function(){this.$refs["dataForm"]&&this.$refs["dataForm"].validateField("pid")}})},y=h,g=a("2877"),v=Object(g["a"])(y,d,u,!1,null,null,null),O=v.exports,F=a("247d");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k={name:"menus",components:{FormModule:c["a"],BestTables:l["a"],addOrUpdateModule:O},data:function(){return{key:this.$route.name,isEdit:"",isShow:!1,dataListLoading:!1,total:0}},computed:j({},Object(n["d"])({menuData:"menu",queryData:"queryCondition"})),mounted:function(){this.getDataList()},methods:j({},Object(n["b"])({getMenuList:"menuManageList"}),{optBtnList:function(){return F["a"].menu.btns},getDataList:function(){var e=this,t=Object(s["k"])(this.queryData.query[this.key].pagination,Object(s["l"])(this.queryData.query[this.key].dataForm));this.dataListLoading=!0,this.getMenuList(Object(s["e"])(t)).then((function(t){e.dataListLoading=!1}))},editHandle:function(e){this.$refs.addUpdateModule.toggleDialog(e),this.isEdit="edit"},addHandle:function(){this.isEdit="",this.$refs.addUpdateModule.toggleDialog()}})},_=k,S=(a("b957"),Object(g["a"])(_,r,i,!1,null,"35828698",null));t["default"]=S.exports}}]);