(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f6a9941"],{"0f7d":function(e,t,i){"use strict";var r=i("b41b"),a=i.n(r);a.a},"12ba":function(e,t,i){"use strict";var r=i("6722"),a=i.n(r);a.a},"174b":function(e,t,i){},"247d":function(e,t,i){"use strict";var r=i("bcab"),a=i("fa7d"),n={store:{key:"store",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].store.update.code)}}]},business:{key:"bussiness-notice",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].businessNotice.update.code)}}]},system:{key:"system-notice",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].systemNotice.update.code)}}]},activity:{key:"activity",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].marketActivity.update.code)}}]},staff:{key:"staff",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].user.update.code)}},{id:2,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(a["g"])(r["a"].user.reset.code)}},{id:3,title:"绑定酷家乐",icon:"el-icon-connection",type:"bind",isShow:function(){return Object(a["g"])(r["a"].user.bindKjl.code)}}]},help:{key:"help",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].help.update.code)}}]},menu:{key:"menu",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"edit",isShow:function(){return Object(a["g"])(r["a"].menu.update.code)}}]},account:{key:"account",btns:[{id:1,title:"现金充值",icon:"el-icon-medal-1",type:"cash",isShow:function(){return Object(a["g"])(r["a"].account.recharge_add.code)}},{id:2,title:"返利充值",type:"fanli",icon:"el-icon-medal",isShow:function(){return Object(a["g"])(r["a"].account.recharge_add.code)}}]},distributorDetail:{key:"dept-distributor",btns:[{id:1,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(a["g"])(r["a"].user.reset.code)}},{id:2,title:"绑定酷家乐",icon:"el-icon-connection",type:"bind",isShow:function(){return Object(a["g"])(r["a"].user.bindKjl.code)}}]},deptAccount:{key:"dept-account",btns:[{id:1,title:"重置密码",icon:"el-icon-refresh-left",type:"reset",isShow:function(){return Object(a["g"])(r["a"].user.reset.code)}}]},order:{key:"order",btns:[{id:1,title:"编辑",icon:"el-icon-edit",type:"editCad",isShow:function(e){return 1001===e.status&&20===e.orderWay}},{id:2,title:"初审认领",icon:"el-icon-circle-check",type:"claim",isShow:function(e){return Object(a["g"])(r["a"].order.hq_claim.code)&&2001===e.status}},{id:3,title:"终审认领",icon:"el-icon-circle-check",type:"finishClaim",isShow:function(e){return Object(a["g"])(r["a"].order.hq_claim_final.code)&&3001===e.status}},{id:4,title:"改价确认",icon:"el-icon-success",type:"changePrice",isShow:function(e){return Object(a["g"])(r["a"].price.modify_confirm.code)&&4001===e.status}},{id:5,title:"翻图驳回",icon:"el-icon-refresh-left",type:"rebackCad",isShow:function(e){return Object(a["g"])(r["a"].order.cad_reject.code)&&1101===e.status}}]},product:{key:"product",btns:[{id:1,title:"编辑",type:"edit",icon:"el-icon-edit",isShow:function(e){return Object(a["g"])(r["a"].product.edit.code)}}]}};t["a"]=n},"2c21":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"dataForm",staticClass:"padding-top-14",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth||"100px",model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchList()}}},[i("div",{staticClass:"search-box"},e._l(e.showList,(function(t,r){return i("el-form-item",{key:r,class:{"order-length-date":t.date,"order-length-deduction":t.deduction,"order-length-type":t.orderType,"order-length-stage":t.stage,"order-length-claim":t.claim,"order-length-finish-claim":t.finishClaim,"order-length-mmodify-price":t.modifyPrice},attrs:{label:t.label+":","label-width":t.width,prop:""+t.code}},["input"===t.type?i("el-input",{attrs:{clearable:!0,placeholder:"请输入"+t.label+(t.extralabel||"")},model:{value:e.dataForm[t.code],callback:function(i){e.$set(e.dataForm,t.code,i)},expression:"dataForm[item.code]"}}):e._e(),"date"===t.type?i("el-date-picker",{attrs:{type:t.flag?"date":"daterange","value-format":"yyyy-MM-dd",placeholder:t.flag?"请选择日期":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dataForm[t.code],callback:function(i){e.$set(e.dataForm,t.code,i)},expression:"dataForm[item.code]"}}):e._e(),"radio"===t.type?e._l(t.radioType,(function(r,a){return i("el-radio",{key:a,attrs:{label:r.value},model:{value:e.dataForm[t.code],callback:function(i){e.$set(e.dataForm,t.code,i)},expression:"dataForm[item.code]"}},[e._v(e._s(r.name))])})):e._e(),"select"===t.type?[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.dataForm[t.code],callback:function(i){e.$set(e.dataForm,t.code,i)},expression:"dataForm[item.code]"}},e._l(t.selectList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.areaName,value:e.id}})})),1)]:e._e(),"cascader"===t.type?[i("el-cascader",{staticStyle:{width:"100%"},attrs:{"change-on-select":"",clearable:"",placeholder:"请选择产品",options:t.cascaderList,filterable:""},model:{value:e.dataForm[t.code],callback:function(i){e.$set(e.dataForm,t.code,i)},expression:"dataForm[item.code]"}})]:e._e(),"areaselect"===t.type?[i("area-select",{attrs:{isselectAll:!0,isOrder:!0}})]:e._e(),e.hiddenInput?i("input",{staticStyle:{display:"none"},attrs:{id:"hiddenText",type:"text"}}):e._e(),"area"===t.type?i("area-select"):e._e()],2)})),1),i("el-form-item",{staticClass:"search-btns"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchList()}}},[e._v("查询")]),i("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.formList.length>7,expression:"formList.length >7"}],staticClass:"show-more",on:{click:function(t){e.showAll=!e.showAll}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:1==e.openOrclose,expression:"openOrclose == 1"}],staticClass:"iconfont icon-zhankai"},[i("span",{staticClass:"iconfont-label"},[e._v("展开")])]),i("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.openOrclose,expression:"openOrclose !== 1"}],staticClass:"iconfont icon-open"},[i("span",{staticClass:"iconfont-label"},[e._v("收起")])])])],1)],1)},a=[],n=(i("8e6e"),i("cadf"),i("456d"),i("ac6a"),i("bd86")),o=(i("7f7f"),i("2f62")),s=i("1f87");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={components:{AreaSelect:s["a"]},props:["labelWidth"],data:function(){return{key:this.$route.name,labelPosition:"right",dataForm:{},hiddenInput:!1,showAll:!1,formList:[]}},computed:l({},Object(o["d"])({queryData:"queryCondition"}),{openOrclose:function(){return this.showAll?2:1},showList:function(){if(this.showAll)return this.formList;var e=[];if(this.formList.length>7)for(var t=0;t<6;t++)e.push(this.formList[t]);else e=this.formList;return e}}),mounted:function(){var e={},t=0;this.formList=this.queryData.query[this.key].dataForm,this.formList.forEach((function(i){e[i.code]=i.value||i.default||"","input"===i.type&&t++})),1===t&&(this.hiddenInput=!0),this.dataForm=e},methods:l({},Object(o["c"])({setQuerys:"SET_QUERYS",setCurrent:"SET_PAGINATION_CURRENT",setCodeList:"SET_CODE_LIST"}),{searchList:function(){var e={key:this.key,current:1};this.setCurrent(e),this.setQuerys({key:this.key,query:this.dataForm}),this.$parent.getDataList()},resetForm:function(){var e=this;e.formList.forEach((function(t){t.value=t.default||"",e.dataForm[t.code]=t.default||""})),e.setCodeList(),e.setQuerys({key:e.key,query:e.dataForm})}})},u=d,m=(i("12ba"),i("2877")),p=Object(m["a"])(u,r,a,!1,null,"2de32179",null);t["a"]=p.exports},"3f2a":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return o}));var r=i("b775");function a(e){return Object(r["a"])({url:"/distributor/hq/export",method:"get",params:e,responseType:"blob"})}function n(e){return Object(r["a"])({url:"/order/hq/export",method:"get",params:e,responseType:"blob"})}function o(e){return Object(r["a"])({url:"/performance/hq/statistics/export",method:"get",params:e,responseType:"blob"})}},"634a":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-box dis-flex-col"},[i("form-module"),i("div",{staticClass:"opt-btn"},[e.hasPermission(e.Permission.order.hq_allot.code)?i("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",icon:"el-icon-user",type:"primary",plain:""},on:{click:e.handleDistribute}},[e._v("初审分配")]):e._e(),e.hasPermission(e.Permission.order.hq_claim.code)?i("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",icon:"el-icon-circle-check",type:"primary",plain:""},on:{click:e.handleClaim}},[e._v("初审认领")]):e._e(),e.hasPermission(e.Permission.order.hq_allot_final.code)?i("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",icon:"el-icon-user-solid",type:"primary",plain:""},on:{click:e.handleFinishDistribute}},[e._v("终审分配")]):e._e(),e.hasPermission(e.Permission.order.hq_claim_final.code)?i("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",icon:"el-icon-success",type:"primary",plain:""},on:{click:e.handleLastClaim}},[e._v("终审认领")]):e._e(),i("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",icon:"el-icon-printer",type:"warning",plain:""},on:{click:function(t){return e.exportOrder()}}},[e._v("导出")])],1),i("best-tables",{attrs:{"data-list":e.order.orderList,total:e.order.total,showSelectBox:!0,optBtnList:this.optBtnList()},on:{selectRows:e.getSelectVal,optThisRow:e.orderOpts}}),e.claimDistributeVisible?i("claim-distribute",{ref:"claimdistributeUserDom",attrs:{oIds:e.oIds}}):e._e(),i("change-price-dialog",{ref:"changePriceDialogDom"})],1)},a=[],n=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("bd86")),o=(i("7f7f"),i("2f62")),s=i("184e"),c=i("2c21"),l=i("b562"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"分配审核人","close-on-click-modal":!1,visible:e.visible,"destroy-on-close":!0,width:"30%"},on:{"update:visible":function(t){e.visible=t},open:e.openDialog}},[i("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"120px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:22}},[i("el-form-item",{attrs:{label:"选择审核人：",prop:"serviceUser"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"请选择"},model:{value:e.dataForm.serviceUser,callback:function(t){e.$set(e.dataForm,"serviceUser",t)},expression:"dataForm.serviceUser"}},e._l(e.selectList,(function(e){return i("el-option",{key:e.userId,attrs:{label:e.name,disabled:1==e.status,value:e.userId}})})),1)],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},u=[],m=i("f8b7"),p=i("fa7d");function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={props:["oIds"],data:function(){return{visible:!1,selectList:[],stage:"",dataForm:{serviceUser:""},dataRule:{}}},computed:b({},Object(o["d"])({queryData:"queryCondition",order:"order"})),methods:b({},Object(o["b"])({getOrderList:"getOrderList"}),{init:function(e){var t=this;this.stage=e,this.visible=!0,this.serviceUser="",Object(m["i"])({stage:e}).then((function(e){200===e.code&&e.success&&(t.selectList=e.data)}))},openDialog:function(){this.dataForm.serviceUser=""},dataFormSubmit:function(){var e=this,t=Object(p["k"])(this.queryData.query.order.pagination,Object(p["l"])(this.queryData.query.order.dataForm));this.$refs["dataForm"].validate((function(i){if(i){var r=e,a=[],n=Object(p["e"])(r.dataForm),o={};r.oIds&&r.oIds.map((function(e){a.push(e.orderId)})),o.orderIds=a.join(),o.claimUserIds=n.serviceUser&&n.serviceUser.join(),o.stage=r.stage,1300===r.stage?Object(m["p"])(o).then((function(e){200===e.code&&e.success&&(r.$message.success("分配成功"),r.getOrderList(Object(p["e"])(t)),r.selectList=[],r.$refs["dataForm"].resetFields(),r.visible=!1)})):Object(m["q"])(o).then((function(e){200===e.code&&e.success&&(r.$message.success("分配成功"),r.getOrderList(Object(p["e"])(t)),r.selectList=[],r.$refs["dataForm"].resetFields(),r.visible=!1)}))}}))}})},y=h,g=(i("0f7d"),i("2877")),v=Object(g["a"])(y,d,u,!1,null,"3cec8d52",null),O=v.exports,D=i("8168"),j=i("3f2a"),w=i("247d");function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){Object(n["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var P={name:"order",components:{BestTables:s["a"],FormModule:c["a"],claimDistribute:O,changePriceDialog:D["a"]},data:function(){var e=this;return{key:e.$route.name,dataForm:{activityName:"",activityStatus:"0"},specialClass:{className:"invalid-row",id:"activityStatusName",value:"无效"},dataList:[],total:0,claimDistributeVisible:!1,finishClaimDistributeVisible:!1,oIds:""}},computed:_({},Object(o["d"])({queryData:"queryCondition",order:"order"})),mounted:function(){this.getDataList(),this.getProvinceData()},methods:_({},Object(o["b"])({getOrderList:"getOrderList"}),{},Object(o["c"])({setQueryToSingle:"SET_QUERYTOSINGLE"}),{optBtnList:function(){return w["a"].order.btns},getProvinceData:function(){var e=this;Object(l["a"])().then((function(t){e.setQueryToSingle({key:e.key,name:"areaCode",dataType:"cascaderList",value:t.data})}))},tableRowClassName:function(e){var t=e.row,i=1===t.activityStatus?"invalid-row":"";return i},setParam:function(){var e=Object(p["l"])(this.queryData.query[this.key].dataForm);return e.areaCode&&e.areaCode.length?e.areaCode=e.areaCode[1]:delete e.areaCode,e.createTime&&e.createTime.length?(e.startCreateTime=e.createTime[0],e.endCreateTime=e.createTime[1],e.createTime=""):(delete e.startCreateTime,delete e.endCreateTime),e.deductTime&&e.deductTime.length?(e.startDeductTime=e.deductTime[0],e.endDeductTime=e.deductTime[1],e.deductTime=""):(delete e.startDeductTime,delete e.endDeductTime),e.time&&e.time.length?(e.startExpectedDeliveryDate=e.time[0],e.endExpectedDeliveryDate=e.time[1],e.time=""):(delete e.startExpectedDeliveryDate,delete e.endExpectedDeliveryDate),e.estimateTime&&e.estimateTime.length?(e.startEstimatedDeliveryTime=e.estimateTime[0],e.endEstimatedDeliveryTime=e.estimateTime[1],e.estimateTime=""):(delete e.startEstimatedDeliveryTime,delete e.endEstimatedDeliveryTime),e},getDataList:function(){this.getOrderList(Object(p["e"])(Object(p["k"])(this.queryData.query[this.key].pagination,this.setParam())))},orderOpts:function(e,t){switch(t){case"editCad":this.editCad(e);break;case"claim":this.claimOpt([{orderId:e.orderId,status:e.status}]);break;case"finishClaim":this.finishClaim([{orderId:e.orderId,status:e.status}]);break;case"changePrice":this.changePrice(e);break;case"rebackCad":this.rebackCad(e);break}},changePrice:function(e){this.$refs.changePriceDialogDom.changePriceDialogVisible=!0,this.$refs.changePriceDialogDom.orderId=e.orderId,this.$refs.changePriceDialogDom.form.orderId=e.orderId},editCad:function(e){this.$router.push({path:"/order/editCad/".concat(e.orderId)})},rebackCad:function(e){var t=this;this.$confirm("您确定要驳回这个订单翻图吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(m["Z"])({orderId:e.orderId}).then((function(e){200===e.code&&e.success&&(t.$message.success("翻图驳回成功"),t.getDataList())}))}))},claimOpt:function(e){var t=this,i=[];e&&e.map((function(e){i.push(e.orderId)})),i.length?Object(m["J"])({orderIds:i.join()}).then((function(e){200===e.code&&e.success&&(t.$message.success("认领成功"),t.getDataList())})):t.$message.warning("请先选择订单")},finishClaim:function(e){var t=this,i=[];e&&e.map((function(e){i.push(e.orderId)})),i.length?Object(m["w"])({orderIds:i.join()}).then((function(e){200===e.code&&e.success&&(t.$message.success("认领成功"),t.getDataList())})):t.$message.warning("请先选择订单")},handleClaim:function(){this.claimOpt(this.oIds)},handleLastClaim:function(){this.finishClaim(this.oIds)},handleDistribute:function(e){var t=this;this.oIds?this.oIds.map((function(e){1300!==e.stage?t.$message.warning("请先选择初审阶段的订单"):(t.claimDistributeVisible=!0,t.$nextTick((function(){t.$refs.claimdistributeUserDom.init(1300)})))})):this.$message.warning("请先选择要分配的订单")},handleFinishDistribute:function(){var e=this;this.oIds?this.oIds.map((function(t){1500!==t.stage?e.$message.warning("请先选择终审阶段的订单"):(e.claimDistributeVisible=!0,e.$nextTick((function(){e.$refs.claimdistributeUserDom.init(1500)})))})):this.$message.warning("请先选择要分配的订单")},getSelectVal:function(e){var t=[];e&&e.map((function(e){t.push({orderId:e.orderId,status:e.status,stage:e.stage})})),this.oIds=t},tableSizeChange:function(){this.getDataList()},tableCurrentChange:function(){this.getDataList()},exportOrder:function(){Object(j["c"])(Object(p["e"])(this.setParam())).then((function(e){Object(p["c"])(e,"订单列表")})).catch((function(e){console.log(e)}))}})},T=P,S=(i("d09f"),Object(g["a"])(T,r,a,!1,null,"c0e7ba08",null));t["default"]=S.exports},6722:function(e,t,i){},8168:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"确认改价",visible:e.changePriceDialogVisible,"append-to-body":!0,"modal-append-to-body":!1,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.changePriceDialogVisible=t},open:e.getPriceDetail}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"170px"}},[i("el-form-item",{attrs:{label:"计划交付(发货)日期：",prop:"estimatedDeliveryTime"}},[i("el-row",[i("el-col",{attrs:{span:10}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.form.estimatedDeliveryTime,callback:function(t){e.$set(e.form,"estimatedDeliveryTime",t)},expression:"form.estimatedDeliveryTime"}})],1),i("el-col",{attrs:{span:8}},[i("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[i("div",{staticClass:"popover-box"},[i("el-divider",{attrs:{"content-position":"center"}},[e._v("产品费用")]),i("p",[e._v("\n                                理论结算价格："+e._s(e.priceDetail.nominalSettlementPrice)+" 元\n                            ")]),i("p",[e._v("\n                                实际结算价格："+e._s(e.priceDetail.finalSettlementPrice)+" 元\n                            ")]),e.priceDetail.cadFee||e.priceDetail.urgentFee?i("el-divider",{attrs:{"content-position":"center"}},[e._v("其它费用")]):e._e(),e.priceDetail.cadFee?i("p",[e._v("\n                                翻图费："+e._s(e.priceDetail.cadFee)+" 元\n                            ")]):e._e(),e.priceDetail.urgentFee?i("p",[e._v("\n                                加急费："+e._s(e.priceDetail.urgentFee)+" 元\n                            ")]):e._e(),i("el-divider",{attrs:{"content-position":"center"}},[e._v("合计")]),i("p",[e._v("\n                                本次合计扣款："+e._s(e.priceDetail.total)+" 元\n                            ")]),i("el-divider",{attrs:{"content-position":"center"}},[e._v("经销商账户余额")]),i("p",[e._v("\n                                现金余额："+e._s(e.priceDetail.cashTotal)+" 元\n                            ")]),i("p",[e._v("\n                                返利余额："+e._s(e.priceDetail.rebateTotal)+" 元\n                            ")])],1),i("el-button",{staticStyle:{"margin-left":"15px"},attrs:{slot:"reference",type:"info",icon:"el-icon-money"},slot:"reference"},[e._v("查看费用")])],1)],1)],1)],1),i("el-form-item",{attrs:{label:"改价说明：",prop:"modifyPriceRemark"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.modifyPriceRemark,callback:function(t){e.$set(e.form,"modifyPriceRemark",t)},expression:"form.modifyPriceRemark"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.submitPrice}},[e._v("确定")])],1)],1)},a=[],n=(i("8e6e"),i("ac6a"),i("cadf"),i("456d"),i("96cf"),i("3b8d")),o=i("bd86"),s=i("f8b7"),c=i("2f62");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){Object(o["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={name:"changePriceDialog",data:function(){return{changePriceDialogVisible:!1,orderId:this.$route.params.orderId,form:{estimatedDeliveryTime:"",orderId:this.$route.params.orderId,modifyPriceRemark:""},rules:{estimatedDeliveryTime:[{required:!0,message:"请输入交付日期",trigger:"change"}],modifyPriceRemark:[{required:!0,message:"请输入改价说明",trigger:"blur"}]},priceDetail:{cadFee:0,finalSettlementPrice:0,nominalSettlementPrice:0,total:0,urgentFee:0,cashTotal:0,rebateTotal:0},lockTime:""}},computed:{pickerOptions:function(){var e=this;return{disabledDate:function(t){return t.getTime()<(new Date(e.lockTime).getTime()-864e5||Date.now())}}}},methods:d({},Object(c["b"])({getOrderDetailData:"getOrderDetailData"}),{getPriceDetail:function(){var e=this;Object(s["Q"])({orderId:this.orderId}).then((function(t){for(var i in e.priceDetail)e.priceDetail[i]=t.data[i];e.form.estimatedDeliveryTime=e.lockTime=t.data.estimatedDeliveryTime}))},submitPrice:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(s["eb"])(e.form).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==i.code||!i.success){t.next=7;break}return e.$message.success("改价确认成功"),e.changePriceDialogVisible=!1,t.next=5,Object(s["M"])({orderId:e.orderId}).then((function(t){200===t.code&&t.success&&(e.$message.success("提交Ishare订单数据成功"),e.$router.push("/order/detail/".concat(e.orderId)))}));case 5:t.next=8;break;case 7:e.changePriceDialogVisible=!1;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){e.getOrderDetailData({orderId:e.orderId})}))}))}})},m=u,p=(i("bb01"),i("2877")),f=Object(p["a"])(m,r,a,!1,null,"51965e6f",null);t["a"]=f.exports},"83d3":function(e,t,i){},b41b:function(e,t,i){},bb01:function(e,t,i){"use strict";var r=i("174b"),a=i.n(r);a.a},d09f:function(e,t,i){"use strict";var r=i("83d3"),a=i.n(r);a.a}}]);